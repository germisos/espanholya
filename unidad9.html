<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unidad 9 Lección</title>

    <script src="menu.js" defer></script> 
    
<style>
     body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f9; 
        color: #333;
        line-height: 1.6;
    }
    
    /* --- Contenedor principal --- */
    .lesson-container {
        max-width: 900px; 
        margin: 80px auto 25px auto; 
        padding: 25px; 
        background: white;
        border-radius: 12px; 
        box-shadow: 0 6px 15px rgba(0,0,0,0.15); 
    }
    
    /* --- Títulos --- */
    h1, h2, h3 {
        color: #007bff; 
        margin-top: 20px;
    }

    /* --- Estilo de Botón de Audio/Verificar --- */
    .play-button, 
    button {
        background-color: #007bff; 
        color: white;
        padding: 8px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        transition: background-color 0.2s;
        white-space: nowrap; 
        flex-shrink: 0; 
    }

    .play-button:hover,
    button:hover {
        background-color: #0056b3; 
    }
    
    /* Barra divisoria estilo Unidad 2 */
    .divider-bar {
        height: 2px;
        background-color: #007bff;
        margin: 30px 0;
        border-radius: 1px;
    }

</style>
</head>
<body>
<div class="lesson-container">
    
<h1>Unidad 9</h1>

<h2>1. El Condicional</h2>
<div class="divider-bar"></div>

<h3>Formas Regulares</h3>
<p>La gran mayoría de los verbos tiene, en el Condicional, forma regular. Consiste en añadir al Infinitivo las terminaciones del Pretérito Imperfecto de los verbos acabados en -er/-ir.</p>

<table class="table-responsive" style="width: 100%; border-collapse: collapse; margin-top: 15px;">
    <thead style="background-color: #f0f0f0;">
        <tr>
            <th style="padding: 10px; border: 1px solid #ddd; text-align: left; width: 25%;">VIAJAR</th>
            <th style="padding: 10px; border: 1px solid #ddd; text-align: left; width: 25%;">VER</th>
            <th style="padding: 10px; border: 1px solid #ddd; text-align: left; width: 25%;">PEDIR</th>
            <th style="padding: 10px; border: 1px solid #ddd; text-align: center; width: 25%;">Audio</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td style="padding: 8px; border: 1px solid #ddd;">Viajaría</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Vería</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Pediría</td>
            <td style="padding: 8px; border: 1px solid #ddd; text-align: center;"><button class="play-button" onclick="playAudio('assets/audio/unidad9/condicional/1.mp3')">OÍR</button></td>
        </tr>
        <tr>
            <td style="padding: 8px; border: 1px solid #ddd;">Viajarías</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Verías</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Pedirías</td>
            <td style="padding: 8px; border: 1px solid #ddd; text-align: center;"><button class="play-button" onclick="playAudio('assets/audio/unidad9/condicional/2.mp3')">OÍR</button></td>
        </tr>
        <tr>
            <td style="padding: 8px; border: 1px solid #ddd;">Viajaría</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Vería</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Pediría</td>
            <td style="padding: 8px; border: 1px solid #ddd; text-align: center;"><button class="play-button" onclick="playAudio('assets/audio/unidad9/condicional/3.mp3')">OÍR</button></td>
        </tr>
        <tr>
            <td style="padding: 8px; border: 1px solid #ddd;">Viajaríamos</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Veríamos</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Pediríamos</td>
            <td style="padding: 8px; border: 1px solid #ddd; text-align: center;"><button class="play-button" onclick="playAudio('assets/audio/unidad9/condicional/4.mp3')">OÍR</button></td>
        </tr>
        <tr>
            <td style="padding: 8px; border: 1px solid #ddd;">Viajaríais</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Veríais</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Pediríais</td>
            <td style="padding: 8px; border: 1px solid #ddd; text-align: center;"><button class="play-button" onclick="playAudio('assets/audio/unidad9/condicional/5.mp3')">OÍR</button></td>
        </tr>
        <tr>
            <td style="padding: 8px; border: 1px solid #ddd;">Viajarían</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Verían</td>
            <td style="padding: 8px; border: 1px solid #ddd;">Pedirían</td>
            <td style="padding: 8px; border: 1px solid #ddd; text-align: center;"><button class="play-button" onclick="playAudio('assets/audio/unidad9/condicional/6.mp3')">OÍR</button></td>
        </tr>
    </tbody>
</table>

<hr style="margin: 30px 0;">

<h3>Formas Irregulares</h3>
<button class="play-button" style="margin-top: 20px;" onclick="playAudio('assets/audio/unidad9/condicional/irregu.mp3')">OÍR: Irregular</button>
<p>Solo son irregulares los mismos verbos que son irregulares en Futuro. La irregularidad que presentan, además, es la misma que en ese tiempo.</p>

<table class="table-responsive" style="width: 50%; border-collapse: collapse; margin-top: 15px;">
    <thead style="background-color: #f0f0f0;">
        <tr>
            <th style="padding: 10px; border: 1px solid #ddd; text-align: left; width: 25%;">Infinitivo</th>
            <th style="padding: 10px; border: 1px solid #ddd; text-align: left; width: 25%;">Raíz Irregular</th>
        </tr>
    </thead>
    <tbody>
        <tr><td style="padding: 8px; border: 1px solid #ddd;">Decir</td><td style="padding: 8px; border: 1px solid #ddd;">dir-</td></tr>
        <tr><td style="padding: 8px; border: 1px solid #ddd;">Haber</td><td style="padding: 8px; border: 1px solid #ddd;">habr-</td></tr>
        <tr><td style="padding: 8px; border: 1px solid #ddd;">Hacer</td><td style="padding: 8px; border: 1px solid #ddd;">har-</td></tr>
        <tr><td style="padding: 8px; border: 1px solid #ddd;">Poner</td><td style="padding: 8px; border: 1px solid #ddd;">pondr-</td></tr>
        <tr><td style="padding: 8px; border: 1px solid #ddd;">Poder</td><td style="padding: 8px; border: 1px solid #ddd;">podr-</td></tr>
        <tr><td style="padding: 8px; border: 1px solid #ddd;">Querer</td><td style="padding: 8px; border: 1px solid #ddd;">querr-</td></tr>
        <tr><td style="padding: 8px; border: 1px solid #ddd;">Saber</td><td style="padding: 8px; border: 1px solid #ddd;">sabr-</td></tr>
        <tr><td style="padding: 8px; border: 1px solid #ddd;">Salir</td><td style="padding: 8px; border: 1px solid #ddd;">saldr-</td></tr>
        <tr><td style="padding: 8px; border: 1px solid #ddd;">Tener</td><td style="padding: 8px; border: 1px solid #ddd;">tendr-</td></tr>
        <tr><td style="padding: 8px; border: 1px solid #ddd;">Venir</td><td style="padding: 8px; border: 1px solid #ddd;">vendr-</td></tr>
    </tbody>
</table>

<div style="background-color: #e6f7ff; padding: 10px; border-left: 4px solid #007bff; margin-top: 15px;">
    <p><strong>Terminaciones Irregulares:</strong> Todas usan las mismas terminaciones Regulares:</p>
    <p style="font-weight: bold;">-ía, -ías, -ía, -íamos, -íais, -ían</p>
</div>

<hr style="margin: 30px 0;">

<h3>CONDICIONAL: USOS</h3>
<button class="play-button" style="margin-top: 20px;" onclick="playAudio('assets/audio/unidad9/condicional/usos.mp3')">OÍR: Usos</button>
<p>Se utiliza para expresar Deseos, Consejos, Hipótesis y Situaciones Hipotéticas.</p>
<ul style="list-style-type: disc; margin-left: 20px; padding-left: 0;">
    <li>Yo viajaría a Japón mañana mismo si pudiera.</li>
    <li>A mí ahora mismo me encantaría estar en una playa sin señal.</li>
    <li>Yo, en tu lugar, me llevaría un abrigo: por la noche refresca. (Consejo)</li>
    <li>En este momento, desearía profundamente estar en la playa, tomando el sol.</li>
</ul>

<div class="divider-bar"></div>


</div>

 <script>
// --- FUNCIÓN DE LIMPIEZA DE TEXTO (maneja acentos y puntuación) ---
function limpiarTexto(texto) {
    if (typeof texto !== 'string') return '';
    return texto.trim()
        .toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "") // Elimina acentos
        .replace(/[¿?¡!.,;]/g, ''); // Elimina puntuación común
}

// --- FUNCIÓN PRINCIPAL DE VERIFICACIÓN (Maneja Arrays y singular) ---
function mostrarRespuesta(id, respuestasEsperadas, multipleAnswers = false) {
    const input = document.getElementById('input-' + id);
    const resultado = document.getElementById('resultado-' + id);

    if (!input || !resultado) {
        console.error('ID de elemento no encontrado: ' + id);
        return;
    }

    const userAnswer = limpiarTexto(input.value);

    let esCorrecta = false;
    let respuestasCorrectasMostradas = [];

    if (Array.isArray(respuestasEsperadas)) {
        // Lógica para Arrays de respuestas
        respuestasCorrectasMostradas = respuestasEsperadas.map(r => limpiarTexto(r));
        esCorrecta = respuestasCorrectasMostradas.includes(userAnswer);
    } else {
        // Lógica para respuesta simple (string)
        const expectedAnswer = limpiarTexto(respuestasEsperadas);
        respuestasCorrectasMostradas.push(expectedAnswer);
        esCorrecta = userAnswer === expectedAnswer;
    }

    // Mostrar el resultado
    resultado.style.display = 'block';

    if (esCorrecta) {
        resultado.className = 'result-box correct-result';
        resultado.innerHTML = '¡Correcto!';
    } else {
        resultado.className = 'result-box incorrect-result';
        // Mostrar la respuesta o las respuestas correctas.
        let mensaje = 'Incorrecto. La respuesta correcta era: ';
        if (respuestasCorrectasMostradas.length > 1) {
             // Muestra la primera respuesta completa original con formato
            mensaje += ' **' + respuestasEsperadas.join('** o **') + '**'; 
        } else {
            // Muestra la respuesta simple original con formato
            mensaje += ' **' + respuestasEsperadas + '**'; 
        }
        resultado.innerHTML = mensaje;
    }
}


// --- FUNCIÓN AUXILIAR PARA DOBLE CAMPO (Condicional "Si") ---
function mostrarRespuestaDosCampos(id1, resp1, id2, resp2) {
    // 1. Verificar el primer campo
    mostrarRespuesta(id1, resp1);

    // 2. Verificar el segundo campo
    // Nota: Aunque resp2 puede estar vacío (''), la función principal lo maneja.
    if (id2) {
        mostrarRespuesta(id2, resp2);
    }
}


// --- FUNCIÓN DE AUDIO (Nueva para Unidad 9) ---
function playAudio(audioPath) {
    const audio = new Audio(audioPath);
    audio.play();
}
     
</script>
    
</body>
</html>
