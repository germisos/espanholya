<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicios | Unidad 10</title>

    <script src="menu.js" defer></script> 
    
    <style>
        body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f9; 
        color: #333;
        line-height: 1.6;
    }
    
    /* --- Contenedor principal --- */
    .lesson-container {
        max-width: 900px; 
        margin: 80px auto 25px auto; 
        padding: 25px; 
        background: white;
        border-radius: 12px; 
        box-shadow: 0 6px 15px rgba(0,0,0,0.15); 
    }
    
    /* --- T√≠tulos --- */
    h1, h2, h3 {
        color: #007bff; 
        margin-top: 20px;
    }

    /* --- Estilo de Bot√≥n de Audio/Verificar --- */
    .play-button, 
    button {
        background-color: #007bff; 
        color: white;
        padding: 8px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        transition: background-color 0.2s;
        white-space: nowrap; 
        flex-shrink: 0; 
    }

    .play-button:hover,
    button:hover {
        background-color: #0056b3; 
    }
    
    /* Barra divisoria estilo Unidad 2 */
    .divider-bar {
        height: 2px;
        background-color: #007bff;
        margin: 30px 0;
        border-radius: 1px;
    }
       /* Estilo de Bot√≥n de Audio/Verificar (USADO PARA CORREGIR) */
    .play-button, 
    button {
        background-color: #007bff; 
        color: white;
        padding: 8px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-weight: bold;
        transition: background-color 0.2s;
        white-space: nowrap; 
        flex-shrink: 0; 
    }

    .play-button:hover,
    button:hover {
        background-color: #0056b3; 
    }
    
    /* --- ESTILOS ESPEC√çFICOS DE EJERCICIOS --- */

    .exercise-section {
        margin-bottom: 25px;
        padding: 15px;
        background-color: white; 
        border: 1px solid #ddd;
        border-radius: 8px;
    }

    input[type="text"] {
        padding: 5px;
        border: 1px solid #ccc;
        border-radius: 4px;
        margin: 0 5px;
    }

    /* Contenedor del bot√≥n local */
    .control-section-local {
        margin-top: 15px;
        text-align: right; 
    }
    .control-section-local button {
        padding: 6px 12px;
        font-size: 14px;
        background-color: #007bff; /* default blue */
        transition: background-color 0.4s, color 0.4s;
    }


    /* Estilos para la correcci√≥n (COLORES FIJOS) */
    .correct {
        background-color: #d4edda; /* Verde claro */
        border: 2px solid #28a745; /* Verde fuerte */
        padding: 2px 5px;
        border-radius: 4px;
    }
    .incorrect {
        background-color: #f8d7da; /* Rojo claro */
        border: 2px solid #dc3545; /* Rojo fuerte */
        padding: 2px 5px;
        border-radius: 4px;
    }
    /* Aplicar borde fuerte solo a los inputs de texto */
    input.correct {
        border: 2px solid #28a745 !important;
    }
    input.incorrect {
        border: 2px solid #dc3545 !important;
    }
    
    /* Estilos de Soluciones */
    .answers-section {
        margin-top: 30px;
        padding: 15px;
        background-color: #e9f7ef;
        border: 1px solid #c8e6c9;
        border-radius: 6px;
    }
    .answers-section summary {
        font-weight: bold;
        color: #28a745;
        cursor: pointer;
    }
    .answers-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 10px;
    }
    .answers-table th, .answers-table td {
        border: 1px solid #c8e6c9;
        padding: 8px;
        text-align: left;
    }
    .answers-table th {
        background-color: #d4edda;
        color: #155724;
    }
</style>
  
</head>
<body>
<div class="lesson-container">
    
    <h1>üìù Unidad 10 de Ejercicios</h1>

    <div class="exercise-section">
        <h2>ü•á Ejercicio 1: Igualdad con Adjetivos y Sustantivos</h2>
        <p>Completa con "tan" o "tanto/a/os/as" (seg√∫n corresponda) y "como":</p>

        <form id="form_ej1">
            <p>1. Mi hermano no es 
                <input type="text" id="ej1_1_1" size="5"> alto 
                <input type="text" id="ej1_1_2" size="5"> yo.
            </p>
            <p>2. Gana 
                <input type="text" id="ej1_2_1" size="5"> dinero 
                <input type="text" id="ej1_2_2" size="5"> mi jefe.
            </p>
        </form>
        <div class="control-section-local">
            <button id="button_ej1" onclick="checkExercise('ej1')">Corregir Ejercicio 1</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>ü•à Ejercicio 2: Igualdad con Adverbios (Multiple Choice)</h2>
        <p>Elige la opci√≥n correcta para completar cada frase.</p>

        <form id="form_ej2">
            <p id="q2_1">1. Corre 
                <label><input type="radio" name="ej2_1" value="tan_rapido"> tan r√°pido</label>
                <label><input type="radio" name="ej2_1" value="tanto_rapido"> tanto r√°pido</label>
                como sus compa√±eros.
            </p>
            <p id="q2_2">2. No estudia 
                <label><input type="radio" name="ej2_2" value="tan"> tan</label>
                <label><input type="radio" name="ej2_2" value="tanto"> tanto</label>
                diligentemente como deber√≠a.
            </p>
        </form>
        <div class="control-section-local">
            <button id="button_ej2" onclick="checkExercise('ej2')">Corregir Ejercicio 2</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>ü•â Ejercicio 3: Igualdad con Sustantivos (Transformaci√≥n)</h2>
        <p>Transforma la siguiente frase usando "tanto/a/os/as... como":</p>
        <blockquote>√âl tiene paciencia. Ella tambi√©n tiene paciencia.</blockquote>
        <p>Transformaci√≥n: √âl tiene 
            <input type="text" id="ej3_1" size="10"> paciencia 
            <input type="text" id="ej3_2" size="10"> ella.
        </p>
        <div class="control-section-local">
            <button id="button_ej3" onclick="checkExercise('ej3')">Corregir Ejercicio 3</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üèÖ Ejercicio 4: Superioridad con Adjetivos (Multiple Choice)</h2>
        <p>Completa con la forma comparativa correcta.</p>

        <form id="form_ej4">
            <p id="q4_1">1. Esta pel√≠cula es 
                <label><input type="radio" name="ej4_1" value="mas_buena"> m√°s buena</label>
                <label><input type="radio" name="ej4_1" value="mejor_que"> mejor que</label>
                <label><input type="radio" name="ej4_1" value="mas_buena_que"> m√°s buena que</label>
                la anterior.
            </p>
            <p id="q4_2">2. El clima es 
                <label><input type="radio" name="ej4_2" value="mas_caluroso"> m√°s caluroso</label>
                <label><input type="radio" name="ej4_2" value="mas_caluroso_que"> m√°s caluroso que</label>
                <label><input type="radio" name="ej4_2" value="mas_que"> m√°s que</label>
                ayer.
            </p>
        </form>
        <div class="control-section-local">
            <button id="button_ej4" onclick="checkExercise('ej4')">Corregir Ejercicio 4</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üéñÔ∏è Ejercicio 5: Superioridad con Adverbios</h2>
        <p>Reescribe la comparaci√≥n usando el comparativo de superioridad (Ej: <em>Ella trabaja m√°s que t√∫</em>).</p>
        <blockquote>Ella trabaja mucho. T√∫ trabajas poco.</blockquote>
        <p>Reescrita: Ella trabaja 
            <input type="text" id="ej5_1" size="5"> 
            <input type="text" id="ej5_2" size="5"> t√∫.
        </p>
        <div class="control-section-local">
            <button id="button_ej5" onclick="checkExercise('ej5')">Corregir Ejercicio 5</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üèÜ Ejercicio 6: Superioridad con Sustantivos</h2>
        <p>Forma la oraci√≥n comparativa a partir de los elementos dados: <em>Mi casa / habitaciones / + / tu casa</em></p>
        <p>Oraci√≥n: Mi casa tiene 
            <input type="text" id="ej6_1" size="15"> habitaciones 
            <input type="text" id="ej6_2" size="5"> tu casa.
        </p>
        <div class="control-section-local">
            <button id="button_ej6" onclick="checkExercise('ej6')">Corregir Ejercicio 6</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üéóÔ∏è Ejercicio 7: Inferioridad con Adjetivos (Multiple Choice)</h2>
        <p>Completa las comparaciones con la forma correcta.</p>

        <form id="form_ej7">
            <p id="q7_1">1. Mi coche es 
                <label><input type="radio" name="ej7_1" value="menos_potente"> menos potente</label>
                <label><input type="radio" name="ej7_1" value="menos_potente_que"> menos potente que</label>
                el tuyo.
            </p>
            <p id="q7_2">2. Esta opci√≥n es 
                <label><input type="radio" name="ej7_2" value="menos_mala"> menos mala</label>
                <label><input type="radio" name="ej7_2" value="menos_peor"> menos peor</label>
                que la otra.
            </p>
        </form>
        <div class="control-section-local">
            <button id="button_ej7" onclick="checkExercise('ej7')">Corregir Ejercicio 7</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üéØ Ejercicio 8: Inferioridad con Adverbios</h2>
        <p>Transforma la comparaci√≥n usando "menos... que":</p>
        <blockquote>Mi hijo duerme poco. Su primo duerme mucho.</blockquote>
        <p>Transformaci√≥n: Mi hijo duerme 
            <input type="text" id="ej8_1" size="5"> 
            <input type="text" id="ej8_2" size="5"> su primo.
        </p>
        <div class="control-section-local">
            <button id="button_ej8" onclick="checkExercise('ej8')">Corregir Ejercicio 8</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üé≥ Ejercicio 9: Inferioridad con Sustantivos</h2>
        <p>Elige las palabras correctas para completar la frase:</p>
        <p>Tengo 
            <input type="text" id="ej9_1" size="10"> experiencia 
            <input type="text" id="ej9_2" size="10"> mi competidora.
        </p>
        <div class="control-section-local">
            <button id="button_ej9" onclick="checkExercise('ej9')">Corregir Ejercicio 9</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üß© Ejercicio 10: Comparativos Irregulares (Multiple Choice)</h2>
        <p>Usa el comparativo correcto.</p>

        <form id="form_ej10">
            <p id="q10_1">1. Mi idea es 
                <label><input type="radio" name="ej10_1" value="mejor"> mejor</label>
                <label><input type="radio" name="ej10_1" value="mas_buena"> m√°s buena</label>
                que la tuya.
            </p>
            <p id="q10_2">2. Este ejercicio es 
                <label><input type="radio" name="ej10_2" value="peor"> peor</label>
                <label><input type="radio" name="ej10_2" value="mas_malo"> m√°s malo</label>
                que el anterior.
            </p>
        </form>
        <div class="control-section-local">
            <button id="button_ej10" onclick="checkExercise('ej10')">Corregir Ejercicio 10</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üî¢ Ejercicio 11: Comparaci√≥n de Cantidad (Multiple Choice)</h2>
        <p>Elige entre "m√°s de" (para n√∫meros) o "m√°s que" (para comparaciones).</p>

        <form id="form_ej11">
            <p id="q11_1">1. Tengo 
                <label><input type="radio" name="ej11_1" value="mas_de"> m√°s de</label>
                <label><input type="radio" name="ej11_1" value="mas_que"> m√°s que</label>
                50 libros en casa.
            </p>
            <p id="q11_2">2. Es 
                <label><input type="radio" name="ej11_2" value="mas_de"> m√°s de</label>
                <label><input type="radio" name="ej11_2" value="mas_que"> m√°s que</label>
                un simple problema.
            </p>
        </form>
        <div class="control-section-local">
            <button id="button_ej11" onclick="checkExercise('ej11')">Corregir Ejercicio 11</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üëë Ejercicio 12: Superlativo Relativo</h2>
        <p>Completa con el art√≠culo, el superlativo ("m√°s") y la preposici√≥n ("de").</p>
        <form id="form_ej12">
            <p>1. Es 
                <input type="text" id="ej12_1" size="5"> chica 
                <input type="text" id="ej12_2" size="5"> inteligente 
                <input type="text" id="ej12_3" size="5"> la clase.
            </p>
            <p>2. Son 
                <input type="text" id="ej12_4" size="5"> estudiantes 
                <input type="text" id="ej12_5" size="5"> aplicados 
                <input type="text" id="ej12_6" size="5"> todos.
            </p>
        </form>
        <div class="control-section-local">
            <button id="button_ej12" onclick="checkExercise('ej12')">Corregir Ejercicio 12</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üîÑ Ejercicio 13: Transformaci√≥n (Igualdad)</h2>
        <p>Cambia a comparaci√≥n de igualdad:</p>
        <blockquote>Juan es muy inteligente, como Pedro.</blockquote>
        <p>Transformaci√≥n: Juan es 
            <input type="text" id="ej13_1" size="5"> inteligente 
            <input type="text" id="ej13_2" size="5"> Pedro.
        </p>
        <div class="control-section-local">
            <button id="button_ej13" onclick="checkExercise('ej13')">Corregir Ejercicio 13</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üíØ Ejercicio 14: Oraciones Finales (Igualdad)</h2>
        <p>Completa con la estructura comparativa de igualdad correcta.</p>
        <form id="form_ej14">
            <p>1. No es 
                <input type="text" id="ej14_1" size="5"> dif√≠cil 
                <input type="text" id="ej14_2" size="5"> parece.
            </p>
            <p>2. Sandra tiene 
                <input type="text" id="ej14_3" size="10"> a√±os 
                <input type="text" id="ej14_4" size="5"> Luisa.
            </p>
        </form>
        <div class="control-section-local">
            <button id="button_ej14" onclick="checkExercise('ej14')">Corregir Ejercicio 14</button>
        </div>
    </div>

    <details class="answers-section">
        <summary>‚úÖ Mostrar/Ocultar Respuestas (Soluci√≥n)</summary>
        
        <table class="answers-table">
            <thead>
                <tr>
                    <th>Ejercicio</th>
                    <th>Respuestas</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>**1.**</td><td>tan, como; tanto, como</td></tr>
                <tr><td>**2.**</td><td>tan r√°pido; tan</td></tr>
                <tr><td>**3.**</td><td>tanta paciencia como</td></tr>
                <tr><td>**4.**</td><td>mejor que; m√°s caluroso que</td></tr>
                <tr><td>**5.**</td><td>m√°s que</td></tr>
                <tr><td>**6.**</td><td>m√°s habitaciones que</td></tr>
                <tr><td>**7.**</td><td>menos potente que; menos mala</td></tr>
                <tr><td>**8.**</td><td>menos que</td></tr>
                <tr><td>**9.**</td><td>menos, que</td></tr>
                <tr><td>**10.**</td><td>mejor; peor</td></tr>
                <tr><td>**11.**</td><td>m√°s de; m√°s que</td></tr>
                <tr><td>**12.**</td><td>la, m√°s, de; los, m√°s, de</td></tr>
                <tr><td>**13.**</td><td>tan inteligente como</td></tr>
                <tr><td>**14.**</td><td>tan dif√≠cil como; tantos a√±os como</td></tr>
            </tbody>
        </table>
    </details>

    <hr style="margin: 30px 0;">
    
<div class="lesson-container">

        <div class="exercise-section">
        <h2>ü•á Ejercicio 15: Conjuga en Futuro Perfecto (Yo)</h2>
        <p>Ma√±ana a estas horas, yo ya (terminar) 
            <input type="text" id="ej15_1" size="20"> el proyecto.
        </p>
        <div class="control-section-local">
            <button id="button_ej15" onclick="checkExercise('ej15')">Corregir Ejercicio 15</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>ü•à Ejercicio 16: Conjuga en Futuro Perfecto (Nosotros)</h2>
        <p>Para el viernes, nosotros (ver) 
            <input type="text" id="ej16_1" size="20"> todas las pel√≠culas de la saga.
        </p>
        <div class="control-section-local">
            <button id="button_ej16" onclick="checkExercise('ej16')">Corregir Ejercicio 16</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>ü•â Ejercicio 17: Transforma al Futuro Perfecto (Ya hemos llegado)</h2>
        <p>Ya hemos llegado. ‚Üí Para ma√±ana, ya (llegar) 
            <input type="text" id="ej17_1" size="20">.
        </p>
        <div class="control-section-local">
            <button id="button_ej17" onclick="checkExercise('ej17')">Corregir Ejercicio 17</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üèÖ Ejercicio 18: Transforma al Futuro Perfecto (Pregunta)</h2>
        <p>¬øHas le√≠do el libro? ‚Üí ¬ø(leer, t√∫) 
            <input type="text" id="ej18_1" size="20"> el libro para entonces?
        </p>
        <div class="control-section-local">
            <button id="button_ej18" onclick="checkExercise('ej18')">Corregir Ejercicio 18</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üéñÔ∏è Ejercicio 19: Completa la negaci√≥n (Pronominal)</h2>
        <p>El a√±o que viene todav√≠a no (graduarse) 
            <input type="text" id="ej19_1" size="20"> mis primos.
        </p>
        <div class="control-section-local">
            <button id="button_ej19" onclick="checkExercise('ej19')">Corregir Ejercicio 19</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üèÜ Ejercicio 20: Usa el Futuro Perfecto con "cuando"</h2>
        <p>Cuando llegues, ya yo (cocinar) 
            <input type="text" id="ej20_1" size="20"> la cena.
        </p>
        <div class="control-section-local">
            <button id="button_ej20" onclick="checkExercise('ej20')">Corregir Ejercicio 20</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üéóÔ∏è Ejercicio 21: Completa con el verbo adecuado (Yo)</h2>
        <p>Para cuando termine el curso, (aprender, yo) 
            <input type="text" id="ej21_1" size="20"> mucho vocabulario.
        </p>
        <div class="control-section-local">
            <button id="button_ej21" onclick="checkExercise('ej21')">Corregir Ejercicio 21</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üéØ Ejercicio 22: Transforma al Futuro Perfecto (Probabilidad)</h2>
        <p>Seguramente ya han salido. ‚Üí Seguramente ya (salir) 
            <input type="text" id="ej22_1" size="20">.
        </p>
        <div class="control-section-local">
            <button id="button_ej22" onclick="checkExercise('ej22')">Corregir Ejercicio 22</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üé≥ Ejercicio 23: Escribe en Futuro Perfecto (Nosotros)</h2>
        <p>Antes de que empiece la pel√≠cula, nosotros (comprar) 
            <input type="text" id="ej23_1" size="20"> las palomitas.
        </p>
        <div class="control-section-local">
            <button id="button_ej23" onclick="checkExercise('ej23')">Corregir Ejercicio 23</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üß© Ejercicio 24: Usa el Futuro Perfecto con "seguramente" (Pronominal)</h2>
        <p>¬øD√≥nde estar√° Ana? (olvidarse) 
            <input type="text" id="ej24_1" size="20"> de la reuni√≥n.
        </p>
        <div class="control-section-local">
            <button id="button_ej24" onclick="checkExercise('ej24')">Corregir Ejercicio 24</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üî¢ Ejercicio 25: Conjuga el verbo irregular "HACER"</h2>
        <p>Para el domingo, mis padres (hacer) 
            <input type="text" id="ej25_1" size="20"> todos los quehaceres.
        </p>
        <div class="control-section-local">
            <button id="button_ej25" onclick="checkExercise('ej25')">Corregir Ejercicio 25</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üëë Ejercicio 26: Transforma esta oraci√≥n (Probabilidad)</h2>
        <p>Tal vez ya termin√≥ su tarea. ‚Üí Tal vez ya (terminar) 
            <input type="text" id="ej26_1" size="20"> su tarea.
        </p>
        <div class="control-section-local">
            <button id="button_ej26" onclick="checkExercise('ej26')">Corregir Ejercicio 26</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üîÑ Ejercicio 27: Completa con "Haber" en futuro (T√∫)</h2>
        <p>Para dentro de dos a√±os, t√∫ (decidir) 
            <input type="text" id="ej27_1" size="20"> tu futuro profesional.
        </p>
        <div class="control-section-local">
            <button id="button_ej27" onclick="checkExercise('ej27')">Corregir Ejercicio 27</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>üíØ Ejercicio 28: Escribe la forma correcta del participio irregular "ESCRIBIR"</h2>
        <p>Para ma√±ana, ya les (escribir) 
            <input type="text" id="ej28_1" size="20"> el mensaje.
        </p>
        <div class="control-section-local">
            <button id="button_ej28" onclick="checkExercise('ej28')">Corregir Ejercicio 28</button>
        </div>
    </div>

    <details class="answers-section">
        <summary>‚úÖ Mostrar/Ocultar Respuestas (Soluci√≥n)</summary>
        
        <table class="answers-table">
            <thead>
                <tr>
                    <th>Ejercicio</th>
                    <th>Respuestas</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>**15.**</td><td>habr√© terminado</td></tr>
                <tr><td>**16.**</td><td>habremos visto</td></tr>
                <tr><td>**17.**</td><td>habremos llegado</td></tr>
                <tr><td>**18.**</td><td>habr√°s le√≠do</td></tr>
                <tr><td>**19.**</td><td>se habr√°n graduado</td></tr>
                <tr><td>**20.**</td><td>habr√© cocinado</td></tr>
                <tr><td>**21.**</td><td>habr√© aprendido</td></tr>
                <tr><td>**22.**</td><td>habr√°n salido</td></tr>
                <tr><td>**23.**</td><td>habremos comprado</td></tr>
                <tr><td>**24.**</td><td>Se habr√° olvidado</td></tr>
                <tr><td>**25.**</td><td>habr√°n hecho</td></tr>
                <tr><td>**26.**</td><td>habr√° terminado</td></tr>
                <tr><td>**27.**</td><td>habr√°s decidido</td></tr>
                <tr><td>**28.**</td><td>habr√© escrito</td></tr>
            </tbody>
        </table>
    </details>

</div>
<div class="lesson-container">

    <h1>üëë 29. Ejercicios sobre Alg√∫n/Ning√∫n y sus Variantes</h1>

    <div class="exercise-section">
        <h2>29.1. Completa con la forma correcta</h2>
        <p>¬øTienes 
            <input type="text" id="ej29_1" size="10"> hermano que viva en Barcelona? No, no tengo
            <input type="text" id="ej29_2" size="10">.
        </p>
        <div class="control-section-local">
            <button id="button_ej29" onclick="checkExercise('ej29')">Corregir 29.1</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>29.2. Completa con la forma correcta</h2>
        <p>En 
            <input type="text" id="ej30_1" size="10"> momento de la pel√≠cula me aburr√≠ mucho. No vi 
            <input type="text" id="ej30_2" size="10"> escena interesante.
        </p>
        <div class="control-section-local">
            <button id="button_ej30" onclick="checkExercise('ej30')">Corregir 29.2</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>29.3. Transforma a negativa</h2>
        <p>Alg√∫n d√≠a viajar√© a Jap√≥n. ‚Üí 
            <input type="text" id="ej31_1" size="10"> 
            <input type="text" id="ej31_2" size="10"> viajar√© a Jap√≥n.
        </p>
        <div class="control-section-local">
            <button id="button_ej31" onclick="checkExercise('ej31')">Corregir 29.3</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>29.4. Elige la opci√≥n correcta</h2>
        <p>¬øConoces a (alg√∫n / **alguno**) profesor de matem√°ticas? S√≠, conozco a (alg√∫n / **alguno**).</p>
        <p>Completa la respuesta:</p>
        <p>Conoces a 
            <input type="text" id="ej32_1" size="10"> profesor. Conozco a 
            <input type="text" id="ej32_2" size="10">.
        </p>
        <div class="control-section-local">
            <button id="button_ej32" onclick="checkExercise('ej32')">Corregir 29.4</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>29.5. Completa el di√°logo</h2>
        <p>- ¬øHay 
            <input type="text" id="ej33_1" size="10"> problema con el informe?
        </p>
        <p>- No, no hay 
            <input type="text" id="ej33_2" size="10"> problema.
        </p>
        <div class="control-section-local">
            <button id="button_ej33" onclick="checkExercise('ej33')">Corregir 29.5</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>29.6. Usa la forma correcta</h2>
        <p>¬øTienes 
            <input type="text" id="ej34_1" size="10"> pregunta? No, no tengo 
            <input type="text" id="ej34_2" size="10">.
        </p>
        <div class="control-section-local">
            <button id="button_ej34" onclick="checkExercise('ej34')">Corregir 29.6</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>29.7. Completa con determinante o pronombre</h2>
        <p>En 
            <input type="text" id="ej35_1" size="10"> de esos pa√≠ses hace mucho calor. No visitar√≠a 
            <input type="text" id="ej35_2" size="10"> de ellos en verano.
        </p>
        <div class="control-section-local">
            <button id="button_ej35" onclick="checkExercise('ej35')">Corregir 29.7</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>29.8. Transforma a afirmativa</h2>
        <p>No tengo ninguna hermana. ‚Üí Tengo 
            <input type="text" id="ej36_1" size="10"> hermana.
        </p>
        <div class="control-section-local">
            <button id="button_ej36" onclick="checkExercise('ej36')">Corregir 29.8</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>29.9. Completa con la forma adecuada</h2>
        <p>Si tienes 
            <input type="text" id="ej37_1" size="10"> duda, preg√∫ntame. Si no tienes 
            <input type="text" id="ej37_2" size="10">, podemos continuar.
        </p>
        <div class="control-section-local">
            <button id="button_ej37" onclick="checkExercise('ej37')">Corregir 29.9</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>29.10. Elige la opci√≥n correcta</h2>
        <p>No necesito (ning√∫n / **ninguno**) consejo. No necesito (ning√∫n / **ninguno**) de los que me diste.</p>
        <p>Completa la respuesta:</p>
        <p>No necesito 
            <input type="text" id="ej38_1" size="10"> consejo. No necesito 
            <input type="text" id="ej38_2" size="10"> de los que me diste.
        </p>
        <div class="control-section-local">
            <button id="button_ej38" onclick="checkExercise('ej38')">Corregir 29.10</button>
        </div>
    </div>

    ---

    <h1>üó£Ô∏è 30. Ejercicios sobre Alguien y Nadie</h1>

    <div class="exercise-section">
        <h2>30.1. Completa con alguien o nadie</h2>
        <p>Hay 
            <input type="text" id="ej39_1" size="10"> en la puerta. No veo a 
            <input type="text" id="ej39_2" size="10"> en el pasillo.
        </p>
        <div class="control-section-local">
            <button id="button_ej39" onclick="checkExercise('ej39')">Corregir 30.1</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>30.2. Transforma a negativa</h2>
        <p>Alguien llam√≥ por tel√©fono. ‚Üí 
            <input type="text" id="ej40_1" size="10"> llam√≥ por tel√©fono.
        </p>
        <div class="control-section-local">
            <button id="button_ej40" onclick="checkExercise('ej40')">Corregir 30.2</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>30.3. Transforma a afirmativa</h2>
        <p>No conozco a nadie aqu√≠. ‚Üí Conozco a 
            <input type="text" id="ej41_1" size="10"> aqu√≠.
        </p>
        <div class="control-section-local">
            <button id="button_ej41" onclick="checkExercise('ej41')">Corregir 30.3</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>30.4. Completa el di√°logo</h2>
        <p>- ¬øHay 
            <input type="text" id="ej42_1" size="10"> que pueda ayudarme?
        </p>
        <p>- Lo siento, no hay 
            <input type="text" id="ej42_2" size="10"> disponible ahora.
        </p>
        <div class="control-section-local">
            <button id="button_ej42" onclick="checkExercise('ej42')">Corregir 30.4</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>30.5. Elige la opci√≥n correcta</h2>
        <p>¬ø(Alguien / **Nadie**) sabe la respuesta? Parece que (alguien / **nadie**) la sabe.</p>
        <p>Completa la respuesta:</p>
        <p>
            <input type="text" id="ej43_1" size="10"> sabe la respuesta. Parece que 
            <input type="text" id="ej43_2" size="10"> la sabe.
        </p>
        <div class="control-section-local">
            <button id="button_ej43" onclick="checkExercise('ej43')">Corregir 30.5</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>30.6. Usa la forma correcta</h2>
        <p>Necesito 
            <input type="text" id="ej44_1" size="10"> que me explique este ejercicio. No encuentro a 
            <input type="text" id="ej44_2" size="10"> que lo sepa hacer.
        </p>
        <div class="control-section-local">
            <button id="button_ej44" onclick="checkExercise('ej44')">Corregir 30.6</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>30.7. Completa con preposici√≥n + pronombre</h2>
        <p>¬øViste a 
            <input type="text" id="ej45_1" size="10"> sospechoso? No, no vi a 
            <input type="text" id="ej45_2" size="10"> sospechoso.
        </p>
        <div class="control-section-local">
            <button id="button_ej45" onclick="checkExercise('ej45')">Corregir 30.7</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>30.8. Escribe la forma adecuada</h2>
        <p>Si 
            <input type="text" id="ej46_1" size="10"> necesita mi ayuda, que me avise. Si 
            <input type="text" id="ej46_2" size="10"> me necesita, me ir√© a casa.
        </p>
        <div class="control-section-local">
            <button id="button_ej46" onclick="checkExercise('ej46')">Corregir 30.8</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>30.9. Transforma la oraci√≥n</h2>
        <p>Te prometo que nadie te ayudar√°. ‚Üí Te prometo que 
            <input type="text" id="ej47_1" size="10"> te ayudar√°.
        </p>
        <div class="control-section-local">
            <button id="button_ej47" onclick="checkExercise('ej47')">Corregir 30.9</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>30.10. Completa con el pronombre correcto</h2>
        <p>En esta fiesta hay 
            <input type="text" id="ej48_1" size="10"> interesante. No hay 
            <input type="text" id="ej48_2" size="10"> aburrido.
        </p>
        <div class="control-section-local">
            <button id="button_ej48" onclick="checkExercise('ej48')">Corregir 30.10</button>
        </div>
    </div>

    <details class="answers-section">
        <summary>‚úÖ Mostrar/Ocultar Respuestas (Soluci√≥n)</summary>
        
        <table class="answers-table">
            <thead>
                <tr>
                    <th>Ejercicio</th>
                    <th>Respuestas</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>**29.1**</td><td>alg√∫n / ninguno</td></tr>
                <tr><td>**29.2**</td><td>alg√∫n / ninguna</td></tr>
                <tr><td>**29.3**</td><td>Ning√∫n / d√≠a</td></tr>
                <tr><td>**29.4**</td><td>alg√∫n / alguno</td></tr>
                <tr><td>**29.5**</td><td>alg√∫n / ning√∫n</td></tr>
                <tr><td>**29.6**</td><td>alguna / ninguna</td></tr>
                <tr><td>**29.7**</td><td>alguno / ninguno</td></tr>
                <tr><td>**29.8**</td><td>alguna</td></tr>
                <tr><td>**29.9**</td><td>alguna / ninguna</td></tr>
                <tr><td>**29.10**</td><td>ning√∫n / ninguno</td></tr>
                <tr><td>**30.1**</td><td>alguien / nadie</td></tr>
                <tr><td>**30.2**</td><td>Nadie</td></tr>
                <tr><td>**30.3**</td><td>alguien</td></tr>
                <tr><td>**30.4**</td><td>alguien / nadie</td></tr>
                <tr><td>**30.5**</td><td>Alguien / nadie</td></tr>
                <tr><td>**30.6**</td><td>alguien / nadie</td></tr>
                <tr><td>**30.7**</td><td>alguien / nadie</td></tr>
                <tr><td>**30.8**</td><td>alguien / nadie</td></tr>
                <tr><td>**30.9**</td><td>alguien</td></tr>
                <tr><td>**30.10**</td><td>alguien / nadie</td></tr>
            </tbody>
        </table>
    </details>

</div>
    <div class="lesson-container">

    <h1>üëë 31. Pret√©rito Perfecto de Subjuntivo</h1>

    <div class="exercise-section">
        <h2>31.1. Completa con el pret√©rito perfecto de subjuntivo</h2>
        <p>Dudo que ellos (llegar) 
            <input type="text" id="ej49_1" size="20"> ya al aeropuerto.
        </p>
        <div class="control-section-local">
            <button id="button_ej49" onclick="checkExercise('ej49')">Corregir 31.1</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.2. Transforma al pret√©rito perfecto de subjuntivo</h2>
        <p>Me alegro de que terminaste. ‚Üí Me alegro de que (terminar, t√∫) 
            <input type="text" id="ej50_1" size="20">.
        </p>
        <div class="control-section-local">
            <button id="button_ej50" onclick="checkExercise('ej50')">Corregir 31.2</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.3. Usa "esperar que"</h2>
        <p>Espero que mi hermana (recibir) 
            <input type="text" id="ej51_1" size="20"> el paquete para ma√±ana.
        </p>
        <div class="control-section-local">
            <button id="button_ej51" onclick="checkExercise('ej51')">Corregir 31.3</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.4. Completa con "ojal√°"</h2>
        <p>Ojal√° que (venir, ellos) 
            <input type="text" id="ej52_1" size="20"> a visitarnos este a√±o.
        </p>
        <div class="control-section-local">
            <button id="button_ej52" onclick="checkExercise('ej52')">Corregir 31.4</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.5. Usa "cuando" + subjuntivo</h2>
        <p>Cuando (hacer, t√∫) 
            <input type="text" id="ej53_1" size="20"> todos los deberes, podr√°s salir.
        </p>
        <div class="control-section-local">
            <button id="button_ej53" onclick="checkExercise('ej53')">Corregir 31.5</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.6. Conjuga en pret√©rito perfecto de subjuntivo</h2>
        <p>No creo que el profesor (explicar) 
            <input type="text" id="ej54_1" size="20"> bien el tema.
        </p>
        <div class="control-section-local">
            <button id="button_ej54" onclick="checkExercise('ej54')">Corregir 31.6</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.7. Transforma esta oraci√≥n</h2>
        <p>Tal vez ya salieron. ‚Üí Tal vez ya (salir, ellos) 
            <input type="text" id="ej55_1" size="20">.
        </p>
        <div class="control-section-local">
            <button id="button_ej55" onclick="checkExercise('ej55')">Corregir 31.7</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.8. Completa con duda</h2>
        <p>No parece que (resolver, ustedes) 
            <input type="text" id="ej56_1" size="20"> el problema todav√≠a.
        </p>
        <div class="control-section-local">
            <button id="button_ej56" onclick="checkExercise('ej56')">Corregir 31.8</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.9. Usa "aunque" + subjuntivo</h2>
        <p>Aunque (llover, it) 
            <input type="text" id="ej57_1" size="20"> mucho, iremos de excursi√≥n.
        </p>
        <div class="control-section-local">
            <button id="button_ej57" onclick="checkExercise('ej57')">Corregir 31.9</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.10. Conjuga el verbo irregular</h2>
        <p>Me sorprende que (decir, √©l) 
            <input type="text" id="ej58_1" size="20"> eso de ti.
        </p>
        <div class="control-section-local">
            <button id="button_ej58" onclick="checkExercise('ej58')">Corregir 31.10</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.11. Usa un verbo irregular en participio</h2>
        <p>Es posible que mis amigos (ver) 
            <input type="text" id="ej59_1" size="20"> esa pel√≠cula ya.
        </p>
        <div class="control-section-local">
            <button id="button_ej59" onclick="checkExercise('ej59')">Corregir 31.11</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.12. Completa el di√°logo (2 huecos)</h2>
        <p>- ¬øCrees que (ganar, nosotros) 
            <input type="text" id="ej60_1" size="10"> el partido?
        </p>
        <p>- No creo que lo (conseguir) 
            <input type="text" id="ej60_2" size="20">.
        </p>
        <div class="control-section-local">
            <button id="button_ej60" onclick="checkExercise('ej60')">Corregir 31.12</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.13. Usa "para que" + subjuntivo</h2>
        <p>Te lo digo para que (saber, t√∫) 
            <input type="text" id="ej61_1" size="20"> la verdad.
        </p>
        <div class="control-section-local">
            <button id="button_ej61" onclick="checkExercise('ej61')">Corregir 31.13</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>31.14. Transforma con "quiz√°s"</h2>
        <p>Quiz√°s ella se fue. ‚Üí Quiz√°s (irse, ella) 
            <input type="text" id="ej62_1" size="20">.
        </p>
        <div class="control-section-local">
            <button id="button_ej62" onclick="checkExercise('ej62')">Corregir 31.14</button>
        </div>
    </div>

    
    <h1>üó£Ô∏è 32. Pret√©rito Imperfecto de Subjuntivo</h1>

    <div class="exercise-section">
        <h2>32.1. Conjuga el verbo regular</h2>
        <p>Si yo (estudiar) 
            <input type="text" id="ej63_1" size="20"> m√°s, aprobar√≠a el examen.
        </p>
        <div class="control-section-local">
            <button id="button_ej63" onclick="checkExercise('ej63')">Corregir 32.1</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.2. Usa la forma correcta de "ser"</h2>
        <p>Ojal√° (ser, yo) 
            <input type="text" id="ej64_1" size="20"> m√°s alto para jugar al baloncesto.
        </p>
        <div class="control-section-local">
            <button id="button_ej64" onclick="checkExercise('ej64')">Corregir 32.2</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.3. Completa con "tener"</h2>
        <p>Si ellos (tener) 
            <input type="text" id="ej65_1" size="20"> tiempo, nos visitar√≠an.
        </p>
        <div class="control-section-local">
            <button id="button_ej65" onclick="checkExercise('ej65')">Corregir 32.3</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.4. Usa "como si" (2 verbos)</h2>
        <p>Habla (como si, √©l) 
            <input type="text" id="ej66_1" size="10"> (saber) 
            <input type="text" id="ej66_2" size="10"> todo.
        </p>
        <div class="control-section-local">
            <button id="button_ej66" onclick="checkExercise('ej66')">Corregir 32.4</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.5. Conjuga el verbo irregular</h2>
        <p>Si nosotros (hacer) 
            <input type="text" id="ej67_1" size="20"> caso, no estar√≠amos en esta situaci√≥n.
        </p>
        <div class="control-section-local">
            <button id="button_ej67" onclick="checkExercise('ej67')">Corregir 32.5</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.6. Transforma a pret√©rito imperfecto de subjuntivo</h2>
        <p>Quer√≠a que vienes. ‚Üí Quer√≠a que (venir, t√∫) 
            <input type="text" id="ej68_1" size="20">.
        </p>
        <div class="control-section-local">
            <button id="button_ej68" onclick="checkExercise('ej68')">Corregir 32.6</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.7. Completa con "poder"</h2>
        <p>Si yo (poder) 
            <input type="text" id="ej69_1" size="20"> ayudarte, lo har√≠a sin dudar.
        </p>
        <div class="control-section-local">
            <button id="button_ej69" onclick="checkExercise('ej69')">Corregir 32.7</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.8. Usa la forma correcta de "ir"</h2>
        <p>Me gustar√≠a que (ir, nosotros) 
            <input type="text" id="ej70_1" size="20"> juntos al concierto.
        </p>
        <div class="control-section-local">
            <button id="button_ej70" onclick="checkExercise('ej70')">Corregir 32.8</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.9. Completa el di√°logo</h2>
        <p>- Si (t√∫) 
            <input type="text" id="ej71_1" size="20"> (decir) la verdad...
        </p>
        <p>- Pero no la dije.
        </p>
        <div class="control-section-local">
            <button id="button_ej71" onclick="checkExercise('ej71')">Corregir 32.9</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.10. Usa "ojal√°" en pasado</h2>
        <p>Ojal√° (gastar, nosotros) 
            <input type="text" id="ej72_1" size="20"> menos dinero el a√±o pasado.
        </p>
        <div class="control-section-local">
            <button id="button_ej72" onclick="checkExercise('ej72')">Corregir 32.10</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.11. Conjuga "dar" correctamente</h2>
        <p>Si me (dar, ellos) 
            <input type="text" id="ej73_1" size="20"> la oportunidad, demostrar√≠a mi val√≠a.
        </p>
        <div class="control-section-local">
            <button id="button_ej73" onclick="checkExercise('ej73')">Corregir 32.11</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.12. Usa "quiz√°s" + subjuntivo (2 verbos)</h2>
        <p>Quiz√°s (ser) 
            <input type="text" id="ej74_1" size="10"> mejor que (t√∫) 
            <input type="text" id="ej74_2" size="10"> (hablar) con √©l.
        </p>
        <div class="control-section-local">
            <button id="button_ej74" onclick="checkExercise('ej74')">Corregir 32.12</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.13. Completa con "estar"</h2>
        <p>Si (yo) 
            <input type="text" id="ej75_1" size="20"> (estar) en tu lugar, no aceptar√≠a esa oferta.
        </p>
        <div class="control-section-local">
            <button id="button_ej75" onclick="checkExercise('ej75')">Corregir 32.13</button>
        </div>
    </div>

    <div class="exercise-section">
        <h2>32.14. Usa "aunque" + subjuntivo</h2>
        <p>Aunque (llover) 
            <input type="text" id="ej76_1" size="20"> mucho, saldr√≠amos igualmente.
        </p>
        <div class="control-section-local">
            <button id="button_ej76" onclick="checkExercise('ej76')">Corregir 32.14</button>
        </div>
    </div>

    <details class="answers-section">
        <summary>‚úÖ Mostrar/Ocultar Respuestas (Soluci√≥n)</summary>
        
        <table class="answers-table">
            <thead>
                <tr>
                    <th>Ejercicio</th>
                    <th>Respuestas Aceptadas (Separadas por / para opciones)</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>**31.1**</td><td>hayan llegado</td></tr>
                <tr><td>**31.2**</td><td>hayas terminado</td></tr>
                <tr><td>**31.3**</td><td>haya recibido</td></tr>
                <tr><td>**31.4**</td><td>hayan venido</td></tr>
                <tr><td>**31.5**</td><td>hayas hecho</td></tr>
                <tr><td>**31.6**</td><td>haya explicado</td></tr>
                <tr><td>**31.7**</td><td>hayan salido</td></tr>
                <tr><td>**31.8**</td><td>hayan resuelto</td></tr>
                <tr><td>**31.9**</td><td>haya llovido</td></tr>
                <tr><td>**31.10**</td><td>haya dicho</td></tr>
                <tr><td>**31.11**</td><td>hayan visto</td></tr>
                <tr><td>**31.12**</td><td>ganemos / hayamos conseguido</td></tr>
                <tr><td>**31.13**</td><td>sepas</td></tr>
                <tr><td>**31.14**</td><td>se haya ido</td></tr>
                <tr><td colspan="2">***</td></tr>
                <tr><td>**32.1**</td><td>estudiara / estudiase</td></tr>
                <tr><td>**32.2**</td><td>fuera / fuese</td></tr>
                <tr><td>**32.3**</td><td>tuvieran / tuviesen</td></tr>
                <tr><td>**32.4**</td><td>supiera / supiese</td></tr>
                <tr><td>**32.5**</td><td>hici√©ramos / hici√©semos</td></tr>
                <tr><td>**32.6**</td><td>vinieras / vinieses</td></tr>
                <tr><td>**32.7**</td><td>pudiera / pudiese</td></tr>
                <tr><td>**32.8**</td><td>fu√©ramos / fu√©semos</td></tr>
                <tr><td>**32.9**</td><td>dijeras / dijeses</td></tr>
                <tr><td>**32.10**</td><td>gast√°ramos / gast√°semos</td></tr>
                <tr><td>**32.11**</td><td>dieran / diesen</td></tr>
                <tr><td>**32.12**</td><td>fuera / fuese / hablaras / hablases</td></tr>
                <tr><td>**32.13**</td><td>estuviera / estuviese</td></tr>
                <tr><td>**32.14**</td><td>lloviera / lloviese</td></tr>
            </tbody>
        </table>
    </details>

</div>
    
</div>


<script>
/**
 * Ayuda a corregir un campo de texto y aplica el estilo.
 * @param {string} id - ID del elemento input.
 * @param {string[]} correctAnswers - Array de respuestas correctas.
 * @returns {boolean} - true si la respuesta del usuario es correcta.
 */
const checkText = (id, correctAnswers) => {
    const input = document.getElementById(id);
    if (!input) return false;
    
    // Normalizar la entrada para ignorar may√∫sculas y espacios extra.
    const value = input.value.toLowerCase().trim();
    
    // Normalizar las respuestas correctas.
    const normalizedAnswers = correctAnswers.map(ans => ans.toLowerCase().trim());

    // Verificar si la respuesta del usuario coincide con alguna de las correctas
    const isCorrect = normalizedAnswers.includes(value); 

    input.classList.remove('correct', 'incorrect');
    if (isCorrect && value !== "") {
        input.classList.add('correct');
        return true;
    } else {
        input.classList.add('incorrect');
        return false;
    }
};

/**
 * Ayuda a corregir un grupo de radio buttons y aplica el estilo.
 * @param {string} name - Atributo 'name' del grupo de radio buttons.
 * @param {string} correctAnswer - Valor ('value') de la opci√≥n correcta.
 * @returns {boolean} - true si la opci√≥n seleccionada es la correcta.
 */
const checkRadio = (name, correctAnswer) => {
    const radios = document.getElementsByName(name);
    let isCorrect = false;
    
    // Limpiar estilos previos en todos los labels del grupo
    radios.forEach(radio => {
        radio.parentElement.classList.remove('correct', 'incorrect');
    });

    // 1. Determinar si la respuesta seleccionada es correcta
    radios.forEach(radio => {
        if (radio.checked && radio.value === correctAnswer) {
            isCorrect = true;
        }
    });

    // 2. Aplicar estilos basados en la selecci√≥n
    radios.forEach(radio => {
        if (radio.checked) {
            if (isCorrect) {
                radio.parentElement.classList.add('correct');
            } else {
                radio.parentElement.classList.add('incorrect');
            }
        }
    });

    return isCorrect;
};


/**
 * Funci√≥n principal que se llama al hacer clic en un bot√≥n de correcci√≥n individual.
 * Contiene la l√≥gica para todos los ejercicios de la Unidad 10 (1-28).
 * @param {string} exerciseId - ID del ejercicio (ej: 'ej1', 'ej15').
 */
function checkExercise(exerciseId) {
    let correctCount = 0;
    let totalCount = 0; 
    
    const button = document.querySelector(`#button_${exerciseId}`);
    
    // Restaurar estilo del bot√≥n al corregir
    if(button) {
        button.textContent = 'Corrigiendo...';
        button.style.backgroundColor = '#007bff'; 
    }

    // Identificar el n√∫mero de ejercicio
    const ejNumber = parseInt(exerciseId.substring(2));


    // --- L√≥gica de correcci√≥n (Ejercicios 1 - 14: Comparativos) ---
    if (ejNumber >= 1 && ejNumber <= 14) {
        
        switch (exerciseId) {
            case 'ej1':
                totalCount = 4;
                if (checkText('ej1_1_1', ['tan'])) correctCount++;
                if (checkText('ej1_1_2', ['como'])) correctCount++;
                if (checkText('ej1_2_1', ['tanto'])) correctCount++;
                if (checkText('ej1_2_2', ['como'])) correctCount++;
                break;
            case 'ej2':
                totalCount = 2;
                if (checkRadio('ej2_1', 'tan_rapido')) correctCount++;
                if (checkRadio('ej2_2', 'tan')) correctCount++;
                break;
            case 'ej3':
                totalCount = 2;
                if (checkText('ej3_1', ['tanta'])) correctCount++;
                if (checkText('ej3_2', ['como'])) correctCount++;
                break;
            case 'ej4':
                totalCount = 2;
                if (checkRadio('ej4_1', 'mejor_que')) correctCount++;
                if (checkRadio('ej4_2', 'mas_caluroso_que')) correctCount++;
                break;
            case 'ej5':
                totalCount = 2;
                if (checkText('ej5_1', ['mas'])) correctCount++;
                if (checkText('ej5_2', ['que'])) correctCount++;
                break;
            case 'ej6':
                totalCount = 2;
                if (checkText('ej6_1', ['mas'])) correctCount++;
                if (checkText('ej6_2', ['que'])) correctCount++;
                break;
            case 'ej7':
                totalCount = 2;
                if (checkRadio('ej7_1', 'menos_potente_que')) correctCount++;
                if (checkRadio('ej7_2', 'menos_mala')) correctCount++;
                break;
            case 'ej8':
                totalCount = 2;
                if (checkText('ej8_1', ['menos'])) correctCount++;
                if (checkText('ej8_2', ['que'])) correctCount++;
                break;
            case 'ej9':
                totalCount = 2;
                if (checkText('ej9_1', ['menos'])) correctCount++;
                if (checkText('ej9_2', ['que'])) correctCount++;
                break;
            case 'ej10':
                totalCount = 2;
                if (checkRadio('ej10_1', 'mejor')) correctCount++;
                if (checkRadio('ej10_2', 'peor')) correctCount++;
                break;
            case 'ej11':
                totalCount = 2;
                if (checkRadio('ej11_1', 'mas_de')) correctCount++;
                if (checkRadio('ej11_2', 'mas_que')) correctCount++;
                break;
            case 'ej12':
                totalCount = 6;
                if (checkText('ej12_1', ['la'])) correctCount++;
                if (checkText('ej12_2', ['mas'])) correctCount++;
                if (checkText('ej12_3', ['de'])) correctCount++;
                if (checkText('ej12_4', ['los'])) correctCount++;
                if (checkText('ej12_5', ['mas'])) correctCount++;
                if (checkText('ej12_6', ['de'])) correctCount++;
                break;
            case 'ej13':
                totalCount = 2;
                if (checkText('ej13_1', ['tan'])) correctCount++;
                if (checkText('ej13_2', ['como'])) correctCount++;
                break;
            case 'ej14':
                totalCount = 4;
                if (checkText('ej14_1', ['tan'])) correctCount++;
                if (checkText('ej14_2', ['como'])) correctCount++;
                if (checkText('ej14_3', ['tantos'])) correctCount++;
                if (checkText('ej14_4', ['como'])) correctCount++;
                break;
        }
    } 
    
    // --- L√≥gica de correcci√≥n (Ejercicios 15 - 28: Futuro Perfecto) ---
    else if (ejNumber >= 15 && ejNumber <= 28) {
        totalCount = 1; 
        
        switch (exerciseId) {
            case 'ej15':
                if (checkText('ej15_1', ['habr√© terminado'])) correctCount++;
                break;
            case 'ej16':
                if (checkText('ej16_1', ['habremos visto'])) correctCount++;
                break;
            case 'ej17':
                if (checkText('ej17_1', ['habremos llegado'])) correctCount++;
                break;
            case 'ej18':
                if (checkText('ej18_1', ['habr√°s le√≠do'])) correctCount++;
                break;
            case 'ej19':
                if (checkText('ej19_1', ['se habr√°n graduado'])) correctCount++;
                break;
            case 'ej20':
                if (checkText('ej20_1', ['habr√© cocinado'])) correctCount++;
                break;
            case 'ej21':
                if (checkText('ej21_1', ['habr√© aprendido'])) correctCount++;
                break;
            case 'ej22':
                if (checkText('ej22_1', ['habr√°n salido'])) correctCount++;
                break;
            case 'ej23':
                if (checkText('ej23_1', ['habremos comprado'])) correctCount++;
                break;
            case 'ej24':
                if (checkText('ej24_1', ['se habr√° olvidado', 'Se habr√° olvidado'])) correctCount++; 
                break;
            case 'ej25':
                if (checkText('ej25_1', ['habr√°n hecho'])) correctCount++;
                break;
            case 'ej26':
                if (checkText('ej26_1', ['habr√° terminado'])) correctCount++;
                break;
            case 'ej27':
                if (checkText('ej27_1', ['habr√°s decidido'])) correctCount++;
                break;
            case 'ej28':
                if (checkText('ej28_1', ['habr√© escrito'])) correctCount++;
                break;
        }
    } else {
        // ID de ejercicio no v√°lido
        return; 
    }

    // Mostrar resultado en el bot√≥n
    const percentage = ((correctCount / totalCount) * 100).toFixed(0);
    const message = `‚úÖ ${correctCount}/${totalCount} (${percentage}%)`;

    if(button) {
        button.textContent = message;
        // Pinta el bot√≥n de verde si la puntuaci√≥n es alta (>= 70%), sino rojo.
        button.style.backgroundColor = correctCount / totalCount >= 0.7 ? '#28a745' : '#dc3545';
        button.style.color = 'white'; 
    }
}
    // ... (Las funciones checkText y checkRadio van aqu√≠, y no necesitan cambios) ...

/**
 * Funci√≥n principal que se llama al hacer clic en un bot√≥n de correcci√≥n individual.
 * Contiene la l√≥gica para todos los ejercicios (1-48).
 * @param {string} exerciseId - ID del ejercicio (ej: 'ej1', 'ej29').
 */
function checkExercise(exerciseId) {
    let correctCount = 0;
    let totalCount = 0; 
    
    const button = document.querySelector(`#button_${exerciseId}`);
    
    // Restaurar estilo del bot√≥n al corregir
    if(button) {
        button.textContent = 'Corrigiendo...';
        button.style.backgroundColor = '#007bff'; 
    }

    // Identificar el n√∫mero de ejercicio
    const ejNumber = parseInt(exerciseId.substring(2));


    // --- L√≥gica de correcci√≥n (Ejercicios 1 - 14: Comparativos) ---
    if (ejNumber >= 1 && ejNumber <= 14) {
        
        switch (exerciseId) {
            case 'ej1':
                totalCount = 4;
                if (checkText('ej1_1_1', ['tan'])) correctCount++;
                if (checkText('ej1_1_2', ['como'])) correctCount++;
                if (checkText('ej1_2_1', ['tanto'])) correctCount++;
                if (checkText('ej1_2_2', ['como'])) correctCount++;
                break;
            case 'ej2':
                totalCount = 2;
                if (checkRadio('ej2_1', 'tan_rapido')) correctCount++;
                if (checkRadio('ej2_2', 'tan')) correctCount++;
                break;
            case 'ej3':
                totalCount = 2;
                if (checkText('ej3_1', ['tanta'])) correctCount++;
                if (checkText('ej3_2', ['como'])) correctCount++;
                break;
            case 'ej4':
                totalCount = 2;
                if (checkRadio('ej4_1', 'mejor_que')) correctCount++;
                if (checkRadio('ej4_2', 'mas_caluroso_que')) correctCount++;
                break;
            case 'ej5':
                totalCount = 2;
                if (checkText('ej5_1', ['mas'])) correctCount++;
                if (checkText('ej5_2', ['que'])) correctCount++;
                break;
            case 'ej6':
                totalCount = 2;
                if (checkText('ej6_1', ['mas'])) correctCount++;
                if (checkText('ej6_2', ['que'])) correctCount++;
                break;
            case 'ej7':
                totalCount = 2;
                if (checkRadio('ej7_1', 'menos_potente_que')) correctCount++;
                if (checkRadio('ej7_2', 'menos_mala')) correctCount++;
                break;
            case 'ej8':
                totalCount = 2;
                if (checkText('ej8_1', ['menos'])) correctCount++;
                if (checkText('ej8_2', ['que'])) correctCount++;
                break;
            case 'ej9':
                totalCount = 2;
                if (checkText('ej9_1', ['menos'])) correctCount++;
                if (checkText('ej9_2', ['que'])) correctCount++;
                break;
            case 'ej10':
                totalCount = 2;
                if (checkRadio('ej10_1', 'mejor')) correctCount++;
                if (checkRadio('ej10_2', 'peor')) correctCount++;
                break;
            case 'ej11':
                totalCount = 2;
                if (checkRadio('ej11_1', 'mas_de')) correctCount++;
                if (checkRadio('ej11_2', 'mas_que')) correctCount++;
                break;
            case 'ej12':
                totalCount = 6;
                if (checkText('ej12_1', ['la'])) correctCount++;
                if (checkText('ej12_2', ['mas'])) correctCount++;
                if (checkText('ej12_3', ['de'])) correctCount++;
                if (checkText('ej12_4', ['los'])) correctCount++;
                if (checkText('ej12_5', ['mas'])) correctCount++;
                if (checkText('ej12_6', ['de'])) correctCount++;
                break;
            case 'ej13':
                totalCount = 2;
                if (checkText('ej13_1', ['tan'])) correctCount++;
                if (checkText('ej13_2', ['como'])) correctCount++;
                break;
            case 'ej14':
                totalCount = 4;
                if (checkText('ej14_1', ['tan'])) correctCount++;
                if (checkText('ej14_2', ['como'])) correctCount++;
                if (checkText('ej14_3', ['tantos'])) correctCount++;
                if (checkText('ej14_4', ['como'])) correctCount++;
                break;
        }
    } 
    
    // --- L√≥gica de correcci√≥n (Ejercicios 15 - 28: Futuro Perfecto) ---
    else if (ejNumber >= 15 && ejNumber <= 28) {
        totalCount = 1; 
        
        switch (exerciseId) {
            case 'ej15':
                if (checkText('ej15_1', ['habr√© terminado'])) correctCount++;
                break;
            case 'ej16':
                if (checkText('ej16_1', ['habremos visto'])) correctCount++;
                break;
            case 'ej17':
                if (checkText('ej17_1', ['habremos llegado'])) correctCount++;
                break;
            case 'ej18':
                if (checkText('ej18_1', ['habr√°s le√≠do'])) correctCount++;
                break;
            case 'ej19':
                if (checkText('ej19_1', ['se habr√°n graduado'])) correctCount++;
                break;
            case 'ej20':
                if (checkText('ej20_1', ['habr√© cocinado'])) correctCount++;
                break;
            case 'ej21':
                if (checkText('ej21_1', ['habr√© aprendido'])) correctCount++;
                break;
            case 'ej22':
                if (checkText('ej22_1', ['habr√°n salido'])) correctCount++;
                break;
            case 'ej23':
                if (checkText('ej23_1', ['habremos comprado'])) correctCount++;
                break;
            case 'ej24':
                if (checkText('ej24_1', ['se habr√° olvidado', 'Se habr√° olvidado'])) correctCount++; 
                break;
            case 'ej25':
                if (checkText('ej25_1', ['habr√°n hecho'])) correctCount++;
                break;
            case 'ej26':
                if (checkText('ej26_1', ['habr√° terminado'])) correctCount++;
                break;
            case 'ej27':
                if (checkText('ej27_1', ['habr√°s decidido'])) correctCount++;
                break;
            case 'ej28':
                if (checkText('ej28_1', ['habr√© escrito'])) correctCount++;
                break;
        }
    } 
    
    // --- L√≥gica de correcci√≥n (Ejercicios 29 - 48: Indefinidos) ---
    else if (ejNumber >= 29 && ejNumber <= 48) {

        switch (exerciseId) {
            case 'ej29': // 29.1
                totalCount = 2;
                if (checkText('ej29_1', ['alg√∫n'])) correctCount++;
                if (checkText('ej29_2', ['ninguno'])) correctCount++;
                break;
            case 'ej30': // 29.2
                totalCount = 2;
                if (checkText('ej30_1', ['alg√∫n'])) correctCount++;
                if (checkText('ej30_2', ['ninguna'])) correctCount++;
                break;
            case 'ej31': // 29.3
                totalCount = 2;
                if (checkText('ej31_1', ['Ning√∫n'])) correctCount++;
                if (checkText('ej31_2', ['d√≠a'])) correctCount++;
                break;
            case 'ej32': // 29.4
                totalCount = 2;
                if (checkText('ej32_1', ['alg√∫n'])) correctCount++;
                if (checkText('ej32_2', ['alguno'])) correctCount++;
                break;
            case 'ej33': // 29.5
                totalCount = 2;
                if (checkText('ej33_1', ['alg√∫n'])) correctCount++;
                if (checkText('ej33_2', ['ning√∫n'])) correctCount++;
                break;
            case 'ej34': // 29.6
                totalCount = 2;
                if (checkText('ej34_1', ['alguna'])) correctCount++;
                if (checkText('ej34_2', ['ninguna'])) correctCount++;
                break;
            case 'ej35': // 29.7
                totalCount = 2;
                if (checkText('ej35_1', ['alguno'])) correctCount++;
                if (checkText('ej35_2', ['ninguno'])) correctCount++;
                break;
            case 'ej36': // 29.8
                totalCount = 1;
                if (checkText('ej36_1', ['alguna'])) correctCount++;
                break;
            case 'ej37': // 29.9
                totalCount = 2;
                if (checkText('ej37_1', ['alguna'])) correctCount++;
                if (checkText('ej37_2', ['ninguna'])) correctCount++;
                break;
            case 'ej38': // 29.10
                totalCount = 2;
                if (checkText('ej38_1', ['ning√∫n'])) correctCount++;
                if (checkText('ej38_2', ['ninguno'])) correctCount++;
                break;
            case 'ej39': // 30.1
                totalCount = 2;
                if (checkText('ej39_1', ['alguien'])) correctCount++;
                if (checkText('ej39_2', ['nadie'])) correctCount++;
                break;
            case 'ej40': // 30.2
                totalCount = 1;
                if (checkText('ej40_1', ['Nadie'])) correctCount++;
                break;
            case 'ej41': // 30.3
                totalCount = 1;
                if (checkText('ej41_1', ['alguien'])) correctCount++;
                break;
            case 'ej42': // 30.4
                totalCount = 2;
                if (checkText('ej42_1', ['alguien'])) correctCount++;
                if (checkText('ej42_2', ['nadie'])) correctCount++;
                break;
            case 'ej43': // 30.5
                totalCount = 2;
                if (checkText('ej43_1', ['Alguien'])) correctCount++;
                if (checkText('ej43_2', ['nadie'])) correctCount++;
                break;
            case 'ej44': // 30.6
                totalCount = 2;
                if (checkText('ej44_1', ['alguien'])) correctCount++;
                if (checkText('ej44_2', ['nadie'])) correctCount++;
                break;
            case 'ej45': // 30.7
                totalCount = 2;
                if (checkText('ej45_1', ['alguien'])) correctCount++;
                if (checkText('ej45_2', ['nadie'])) correctCount++;
                break;
            case 'ej46': // 30.8
                totalCount = 2;
                if (checkText('ej46_1', ['alguien'])) correctCount++;
                if (checkText('ej46_2', ['nadie'])) correctCount++;
                break;
            case 'ej47': // 30.9
                totalCount = 1;
                if (checkText('ej47_1', ['alguien'])) correctCount++;
                break;
            case 'ej48': // 30.10
                totalCount = 2;
                if (checkText('ej48_1', ['alguien'])) correctCount++;
                if (checkText('ej48_2', ['nadie'])) correctCount++;
                break;
        }
    } 
    
    else {
        // ID de ejercicio no v√°lido
        return; 
    }

    // Mostrar resultado en el bot√≥n
    const percentage = ((correctCount / totalCount) * 100).toFixed(0);
    const message = `‚úÖ ${correctCount}/${totalCount} (${percentage}%)`;

    if(button) {
        button.textContent = message;
        // Pinta el bot√≥n de verde si la puntuaci√≥n es alta (>= 70%), sino rojo.
        button.style.backgroundColor = correctCount / totalCount >= 0.7 ? '#28a745' : '#dc3545';
        button.style.color = 'white'; 
    }
}
    // ... (Las funciones checkText y checkRadio van aqu√≠, y no necesitan cambios) ...

/**
 * Funci√≥n principal que se llama al hacer clic en un bot√≥n de correcci√≥n individual.
 * Contiene la l√≥gica para todos los ejercicios (1-76).
 * @param {string} exerciseId - ID del ejercicio (ej: 'ej1', 'ej49').
 */
function checkExercise(exerciseId) {
    let correctCount = 0;
    let totalCount = 0; 
    
    const button = document.querySelector(`#button_${exerciseId}`);
    
    // Restaurar estilo del bot√≥n al corregir
    if(button) {
        button.textContent = 'Corrigiendo...';
        button.style.backgroundColor = '#007bff'; 
    }

    // Identificar el n√∫mero de ejercicio
    const ejNumber = parseInt(exerciseId.substring(2));


    // --- L√≥gica de correcci√≥n (Ejercicios 1 - 28: Unidad 10) ---
    if (ejNumber >= 1 && ejNumber <= 14) {
        // Comparativos (2 Huecos)
        switch (exerciseId) {
            case 'ej1':
                totalCount = 4;
                if (checkText('ej1_1_1', ['tan'])) correctCount++;
                if (checkText('ej1_1_2', ['como'])) correctCount++;
                if (checkText('ej1_2_1', ['tanto'])) correctCount++;
                if (checkText('ej1_2_2', ['como'])) correctCount++;
                break;
            case 'ej2':
                totalCount = 2;
                if (checkRadio('ej2_1', 'tan_rapido')) correctCount++;
                if (checkRadio('ej2_2', 'tan')) correctCount++;
                break;
            case 'ej3':
                totalCount = 2;
                if (checkText('ej3_1', ['tanta'])) correctCount++;
                if (checkText('ej3_2', ['como'])) correctCount++;
                break;
            case 'ej4':
                totalCount = 2;
                if (checkRadio('ej4_1', 'mejor_que')) correctCount++;
                if (checkRadio('ej4_2', 'mas_caluroso_que')) correctCount++;
                break;
            case 'ej5':
                totalCount = 2;
                if (checkText('ej5_1', ['mas'])) correctCount++;
                if (checkText('ej5_2', ['que'])) correctCount++;
                break;
            case 'ej6':
                totalCount = 2;
                if (checkText('ej6_1', ['mas'])) correctCount++;
                if (checkText('ej6_2', ['que'])) correctCount++;
                break;
            case 'ej7':
                totalCount = 2;
                if (checkRadio('ej7_1', 'menos_potente_que')) correctCount++;
                if (checkRadio('ej7_2', 'menos_mala')) correctCount++;
                break;
            case 'ej8':
                totalCount = 2;
                if (checkText('ej8_1', ['menos'])) correctCount++;
                if (checkText('ej8_2', ['que'])) correctCount++;
                break;
            case 'ej9':
                totalCount = 2;
                if (checkText('ej9_1', ['menos'])) correctCount++;
                if (checkText('ej9_2', ['que'])) correctCount++;
                break;
            case 'ej10':
                totalCount = 2;
                if (checkRadio('ej10_1', 'mejor')) correctCount++;
                if (checkRadio('ej10_2', 'peor')) correctCount++;
                break;
            case 'ej11':
                totalCount = 2;
                if (checkRadio('ej11_1', 'mas_de')) correctCount++;
                if (checkRadio('ej11_2', 'mas_que')) correctCount++;
                break;
            case 'ej12':
                totalCount = 6;
                if (checkText('ej12_1', ['la'])) correctCount++;
                if (checkText('ej12_2', ['mas'])) correctCount++;
                if (checkText('ej12_3', ['de'])) correctCount++;
                if (checkText('ej12_4', ['los'])) correctCount++;
                if (checkText('ej12_5', ['mas'])) correctCount++;
                if (checkText('ej12_6', ['de'])) correctCount++;
                break;
            case 'ej13':
                totalCount = 2;
                if (checkText('ej13_1', ['tan'])) correctCount++;
                if (checkText('ej13_2', ['como'])) correctCount++;
                break;
            case 'ej14':
                totalCount = 4;
                if (checkText('ej14_1', ['tan'])) correctCount++;
                if (checkText('ej14_2', ['como'])) correctCount++;
                if (checkText('ej14_3', ['tantos'])) correctCount++;
                if (checkText('ej14_4', ['como'])) correctCount++;
                break;
        }
    } 
    else if (ejNumber >= 15 && ejNumber <= 28) {
        // Futuro Perfecto (1 Hueco)
        totalCount = 1; 
        
        switch (exerciseId) {
            case 'ej15':
                if (checkText('ej15_1', ['habr√© terminado'])) correctCount++;
                break;
            case 'ej16':
                if (checkText('ej16_1', ['habremos visto'])) correctCount++;
                break;
            case 'ej17':
                if (checkText('ej17_1', ['habremos llegado'])) correctCount++;
                break;
            case 'ej18':
                if (checkText('ej18_1', ['habr√°s le√≠do'])) correctCount++;
                break;
            case 'ej19':
                if (checkText('ej19_1', ['se habr√°n graduado'])) correctCount++;
                break;
            case 'ej20':
                if (checkText('ej20_1', ['habr√© cocinado'])) correctCount++;
                break;
            case 'ej21':
                if (checkText('ej21_1', ['habr√© aprendido'])) correctCount++;
                break;
            case 'ej22':
                if (checkText('ej22_1', ['habr√°n salido'])) correctCount++;
                break;
            case 'ej23':
                if (checkText('ej23_1', ['habremos comprado'])) correctCount++;
                break;
            case 'ej24':
                if (checkText('ej24_1', ['se habr√° olvidado', 'Se habr√° olvidado'])) correctCount++; 
                break;
            case 'ej25':
                if (checkText('ej25_1', ['habr√°n hecho'])) correctCount++;
                break;
            case 'ej26':
                if (checkText('ej26_1', ['habr√° terminado'])) correctCount++;
                break;
            case 'ej27':
                if (checkText('ej27_1', ['habr√°s decidido'])) correctCount++;
                break;
            case 'ej28':
                if (checkText('ej28_1', ['habr√© escrito'])) correctCount++;
                break;
        }
    } 
    
    // --- L√≥gica de correcci√≥n (Ejercicios 29 - 48: Unidad 11 - Indefinidos) ---
    else if (ejNumber >= 29 && ejNumber <= 48) {

        switch (exerciseId) {
            case 'ej29': // 29.1
                totalCount = 2;
                if (checkText('ej29_1', ['alg√∫n'])) correctCount++;
                if (checkText('ej29_2', ['ninguno'])) correctCount++;
                break;
            case 'ej30': // 29.2
                totalCount = 2;
                if (checkText('ej30_1', ['alg√∫n'])) correctCount++;
                if (checkText('ej30_2', ['ninguna'])) correctCount++;
                break;
            case 'ej31': // 29.3
                totalCount = 2;
                if (checkText('ej31_1', ['Ning√∫n'])) correctCount++;
                if (checkText('ej31_2', ['d√≠a'])) correctCount++;
                break;
            case 'ej32': // 29.4
                totalCount = 2;
                if (checkText('ej32_1', ['alg√∫n'])) correctCount++;
                if (checkText('ej32_2', ['alguno'])) correctCount++;
                break;
            case 'ej33': // 29.5
                totalCount = 2;
                if (checkText('ej33_1', ['alg√∫n'])) correctCount++;
                if (checkText('ej33_2', ['ning√∫n'])) correctCount++;
                break;
            case 'ej34': // 29.6
                totalCount = 2;
                if (checkText('ej34_1', ['alguna'])) correctCount++;
                if (checkText('ej34_2', ['ninguna'])) correctCount++;
                break;
            case 'ej35': // 29.7
                totalCount = 2;
                if (checkText('ej35_1', ['alguno'])) correctCount++;
                if (checkText('ej35_2', ['ninguno'])) correctCount++;
                break;
            case 'ej36': // 29.8
                totalCount = 1;
                if (checkText('ej36_1', ['alguna'])) correctCount++;
                break;
            case 'ej37': // 29.9
                totalCount = 2;
                if (checkText('ej37_1', ['alguna'])) correctCount++;
                if (checkText('ej37_2', ['ninguna'])) correctCount++;
                break;
            case 'ej38': // 29.10
                totalCount = 2;
                if (checkText('ej38_1', ['ning√∫n'])) correctCount++;
                if (checkText('ej38_2', ['ninguno'])) correctCount++;
                break;
            case 'ej39': // 30.1
                totalCount = 2;
                if (checkText('ej39_1', ['alguien'])) correctCount++;
                if (checkText('ej39_2', ['nadie'])) correctCount++;
                break;
            case 'ej40': // 30.2
                totalCount = 1;
                if (checkText('ej40_1', ['Nadie'])) correctCount++;
                break;
            case 'ej41': // 30.3
                totalCount = 1;
                if (checkText('ej41_1', ['alguien'])) correctCount++;
                break;
            case 'ej42': // 30.4
                totalCount = 2;
                if (checkText('ej42_1', ['alguien'])) correctCount++;
                if (checkText('ej42_2', ['nadie'])) correctCount++;
                break;
            case 'ej43': // 30.5
                totalCount = 2;
                if (checkText('ej43_1', ['Alguien'])) correctCount++;
                if (checkText('ej43_2', ['nadie'])) correctCount++;
                break;
            case 'ej44': // 30.6
                totalCount = 2;
                if (checkText('ej44_1', ['alguien'])) correctCount++;
                if (checkText('ej44_2', ['nadie'])) correctCount++;
                break;
            case 'ej45': // 30.7
                totalCount = 2;
                if (checkText('ej45_1', ['alguien'])) correctCount++;
                if (checkText('ej45_2', ['nadie'])) correctCount++;
                break;
            case 'ej46': // 30.8
                totalCount = 2;
                if (checkText('ej46_1', ['alguien'])) correctCount++;
                if (checkText('ej46_2', ['nadie'])) correctCount++;
                break;
            case 'ej47': // 30.9
                totalCount = 1;
                if (checkText('ej47_1', ['alguien'])) correctCount++;
                break;
            case 'ej48': // 30.10
                totalCount = 2;
                if (checkText('ej48_1', ['alguien'])) correctCount++;
                if (checkText('ej48_2', ['nadie'])) correctCount++;
                break;
        }
    }

    // --- L√≥gica de correcci√≥n (Ejercicios 49 - 76: Unidad 12 - Subjuntivo) ---
    else if (ejNumber >= 49 && ejNumber <= 76) {

        switch (exerciseId) {
            // 31. Pret√©rito Perfecto de Subjuntivo (Ej. 49-62)
            case 'ej49': // 31.1
                totalCount = 1;
                if (checkText('ej49_1', ['hayan llegado'])) correctCount++;
                break;
            case 'ej50': // 31.2
                totalCount = 1;
                if (checkText('ej50_1', ['hayas terminado'])) correctCount++;
                break;
            case 'ej51': // 31.3
                totalCount = 1;
                if (checkText('ej51_1', ['haya recibido'])) correctCount++;
                break;
            case 'ej52': // 31.4
                totalCount = 1;
                if (checkText('ej52_1', ['hayan venido'])) correctCount++;
                break;
            case 'ej53': // 31.5
                totalCount = 1;
                if (checkText('ej53_1', ['hayas hecho'])) correctCount++;
                break;
            case 'ej54': // 31.6
                totalCount = 1;
                if (checkText('ej54_1', ['haya explicado'])) correctCount++;
                break;
            case 'ej55': // 31.7
                totalCount = 1;
                if (checkText('ej55_1', ['hayan salido'])) correctCount++;
                break;
            case 'ej56': // 31.8
                totalCount = 1;
                if (checkText('ej56_1', ['hayan resuelto'])) correctCount++;
                break;
            case 'ej57': // 31.9
                totalCount = 1;
                if (checkText('ej57_1', ['haya llovido'])) correctCount++;
                break;
            case 'ej58': // 31.10
                totalCount = 1;
                if (checkText('ej58_1', ['haya dicho'])) correctCount++;
                break;
            case 'ej59': // 31.11
                totalCount = 1;
                if (checkText('ej59_1', ['hayan visto'])) correctCount++;
                break;
            case 'ej60': // 31.12
                totalCount = 2;
                if (checkText('ej60_1', ['ganemos'])) correctCount++;
                if (checkText('ej60_2', ['hayamos conseguido'])) correctCount++;
                break;
            case 'ej61': // 31.13
                totalCount = 1;
                if (checkText('ej61_1', ['sepas'])) correctCount++;
                break;
            case 'ej62': // 31.14
                totalCount = 1;
                if (checkText('ej62_1', ['se haya ido'])) correctCount++;
                break;
                
            // 32. Pret√©rito Imperfecto de Subjuntivo (Ej. 63-76)
            case 'ej63': // 32.1
                totalCount = 1;
                if (checkText('ej63_1', ['estudiara', 'estudiase'])) correctCount++;
                break;
            case 'ej64': // 32.2
                totalCount = 1;
                if (checkText('ej64_1', ['fuera', 'fuese'])) correctCount++;
                break;
            case 'ej65': // 32.3
                totalCount = 1;
                if (checkText('ej65_1', ['tuvieran', 'tuviesen'])) correctCount++;
                break;
            case 'ej66': // 32.4
                totalCount = 1; // Solo el verbo saber, el "como si" est√° en la pregunta
                if (checkText('ej66_2', ['supiera', 'supiese'])) correctCount++;
                break;
            case 'ej67': // 32.5
                totalCount = 1;
                if (checkText('ej67_1', ['hici√©ramos', 'hiciesemos'])) correctCount++;
                break;
            case 'ej68': // 32.6
                totalCount = 1;
                if (checkText('ej68_1', ['vinieras', 'vinieses'])) correctCount++;
                break;
            case 'ej69': // 32.7
                totalCount = 1;
                if (checkText('ej69_1', ['pudiera', 'pudiese'])) correctCount++;
                break;
            case 'ej70': // 32.8
                totalCount = 1;
                if (checkText('ej70_1', ['fu√©ramos', 'fuesemos'])) correctCount++;
                break;
            case 'ej71': // 32.9
                totalCount = 1;
                if (checkText('ej71_1', ['dijeras', 'dijeses'])) correctCount++;
                break;
            case 'ej72': // 32.10
                totalCount = 1;
                if (checkText('ej72_1', ['gast√°ramos', 'gast√°semos'])) correctCount++;
                break;
            case 'ej73': // 32.11
                totalCount = 1;
                if (checkText('ej73_1', ['dieran', 'diesen'])) correctCount++;
                break;
            case 'ej74': // 32.12
                totalCount = 2;
                if (checkText('ej74_1', ['fuera', 'fuese'])) correctCount++;
                if (checkText('ej74_2', ['hablaras', 'hablases'])) correctCount++;
                break;
            case 'ej75': // 32.13
                totalCount = 1;
                if (checkText('ej75_1', ['estuviera', 'estuviese'])) correctCount++;
                break;
            case 'ej76': // 32.14
                totalCount = 1;
                if (checkText('ej76_1', ['lloviera', 'lloviese'])) correctCount++;
                break;
        }
    }
    
    else {
        // ID de ejercicio no v√°lido
        return; 
    }

    // Mostrar resultado en el bot√≥n
    const percentage = ((correctCount / totalCount) * 100).toFixed(0);
    const message = `‚úÖ ${correctCount}/${totalCount} (${percentage}%)`;

    if(button) {
        button.textContent = message;
        // Pinta el bot√≥n de verde si la puntuaci√≥n es alta (>= 70%), sino rojo.
        button.style.backgroundColor = correctCount / totalCount >= 0.7 ? '#28a745' : '#dc3545';
        button.style.color = 'white'; 
    }
}
</script>

</body>
</html>
  
