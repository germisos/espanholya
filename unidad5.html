<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unidad 5 - Verbos con cambio vocálico y números</title>
<script src="menu.js" defer></script>  
<style>
  body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f9;
      color: #333;
    }

    /* ESTILO CORREGIDO: Define el contenedor principal con el formato de las unidades anteriores */
    .lesson-container {
      max-width: 900px;
      margin: 80px auto 25px auto;
      padding: 25px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
    }

    h2, h3 {
      color: #007bff;
      border-bottom: 2px solid #007bff;
      padding-bottom: 4px;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      margin: 6px 0;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    /* Botones de audio (Play Button) */
    .play-button, .audio-btn { /* He añadido .audio-btn para los audios de los números */
      border: none;
      border-radius: 5px;
      padding: 6px 10px;
      cursor: pointer;
      color: white;
      font-weight: bold;
    }

    .play-button, .audio-btn {
      background-color: #28a745;
    }
    .play-button:hover, .audio-btn:hover {
      background-color: #218838;
    }

    .mic-button {
      background-color: #007bff;
    }
    .mic-button:hover {
      background-color: #0056b3;
    }

    .feedback {
      font-size: 0.9em;
      margin-left: 6px;
    }

    .feedback.ok {
      color: green;
      font-weight: bold;
    }
    .feedback.retry {
      color: red;
    }

    p.explanation {
      font-style: italic;
      color: #555;
      margin-bottom: 15px;
    }

  hr {
    margin: 30px 0;
    border: none;
    border-top: 2px solid #ddd;
  }

  /* Estilos para las tablas de números y conjugación */
  .numbers-table {
    border-collapse: collapse;
    width: 100%;
    max-width: 600px;
    margin: 15px 0; /* Espacio para que no se pegue al texto */
  }

  .numbers-table td {
    border: 1px solid #ccc;
    padding: 6px 8px;
  }

  .numbers-table td:first-child {
    text-align: right;
    font-weight: bold;
  }
</style>
</head>

<body>

  <div class="lesson-container">

    <h2>UNIDAD 5 – VERBOS CON CAMBIO VOCÁLICO</h2>

    <div class="verb-section">
      <h3>1. VERBOS</h3>
      <h3>Verbo PODER (O → UE)</h3>
      <ul>
        <li>(yo) puedo <button class="play-button" data-text="puedo" data-audio="assets/audio/unidad5/poder/puedo.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(tú) puedes <button class="play-button" data-text="puedes" data-audio="assets/audio/unidad5/poder/puedes.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(él, ella, usted) puede <button class="play-button" data-text="puede" data-audio="assets/audio/unidad5/poder/puede.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(nosotros/as) podemos <button class="play-button" data-text="podemos" data-audio="assets/audio/unidad5/poder/podemos.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(vosotros/as) podéis <button class="play-button" data-text="podéis" data-audio="assets/audio/unidad5/poder/podeis.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(ellos/as, ustedes) pueden <button class="play-button" data-text="pueden" data-audio="assets/audio/unidad5/poder/pueden.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
      </ul>

      <h3>Verbo DORMIR (O → UE)</h3>
      <ul>
        <li>(yo) duermo <button class="play-button" data-text="duermo" data-audio="assets/audio/unidad5/dormir/duermo.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(tú) duermes <button class="play-button" data-text="duermes" data-audio="assets/audio/unidad5/dormir/duermes.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(él, ella, usted) duerme <button class="play-button" data-text="duerme" data-audio="assets/audio/unidad5/dormir/duerme.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(nosotros/as) dormimos <button class="play-button" data-text="dormimos" data-audio="assets/audio/unidad5/dormir/dormimos.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(vosotros/as) dormís <button class="play-button" data-text="dormís" data-audio="assets/audio/unidad5/dormir/dormis.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(ellos/as, ustedes) duermen <button class="play-button" data-text="duermen" data-audio="assets/audio/unidad5/dormir/duermen.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
      </ul>

      <h3>Verbo CERRAR (E → IE)</h3>
      <ul>
        <li>(yo) cierro <button class="play-button" data-text="cierro" data-audio="assets/audio/unidad5/cerrar/cierro.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(tú) cierras <button class="play-button" data-text="cierras" data-audio="assets/audio/unidad5/cerrar/cierras.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(él, ella, usted) cierra <button class="play-button" data-text="cierra" data-audio="assets/audio/unidad5/cerrar/cierra.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(nosotros/as) cerramos <button class="play-button" data-text="cerramos" data-audio="assets/audio/unidad5/cerrar/cerramos.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(vosotros/as) cerráis <button class="play-button" data-text="cerráis" data-audio="assets/audio/unidad5/cerrar/cerrais.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(ellos/as, ustedes) cierran <button class="play-button" data-text="cierran" data-audio="assets/audio/unidad5/cerrar/cierran.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
      </ul>

      <h3>Verbo QUERER (E → IE)</h3>
      <ul>
        <li>(yo) quiero <button class="play-button" data-text="quiero" data-audio="assets/audio/unidad5/querer/quiero.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(tú) quieres <button class="play-button" data-text="quieres" data-audio="assets/audio/unidad5/querer/quieres.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(él, ella, usted) quiere <button class="play-button" data-text="quiere" data-audio="assets/audio/unidad5/querer/quiere.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(nosotros/as) queremos <button class="play-button" data-text="queremos" data-audio="assets/audio/unidad5/querer/queremos.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(vosotros/as) queréis <button class="play-button" data-text="queréis" data-audio="assets/audio/unidad5/querer/quereis.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(ellos/as, ustedes) quieren <button class="play-button" data-text="quieren" data-audio="assets/audio/unidad5/querer/quieren.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
      </ul>

      <h3>Verbo PREFERIR (E → IE)</h3>
      <ul>
        <li>(yo) prefiero <button class="play-button" data-text="prefiero" data-audio="assets/audio/unidad5/preferir/prefiero.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(tú) prefieres <button class="play-button" data-text="prefieres" data-audio="assets/audio/unidad5/preferir/prefieres.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(él, ella, usted) prefiere <button class="play-button" data-text="prefiere" data-audio="assets/audio/unidad5/preferir/prefiere.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(nosotros/as) preferimos <button class="play-button" data-text="preferimos" data-audio="assets/audio/unidad5/preferir/preferimos.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(vosotros/as) preferís <button class="play-button" data-text="preferís" data-audio="assets/audio/unidad5/preferir/preferis.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
        <li>(ellos/as, ustedes) prefieren <button class="play-button" data-text="prefieren" data-audio="assets/audio/unidad5/preferir/prefieren.mp3">🔊</button><button class="mic-button">🎤</button><span class="feedback"></span></li>
      </ul>
    </div>

    <hr>

    <section class="exercise-section">
  <h3>2. PORCENTAJES Y NÚMEROS A PARTIR DE 1000</h3>

  <p>
    Se usa:
    <button class="audio-btn" data-audio="assets/audio/unidad5/porcentajes.mp3">🔊 Escuchar</button>
  </p>

  <ul>
    <li>diez por ciento (10%)</li>
    <li>cuarenta y cinco por ciento (45%)</li>
    <li>noventa coma cinco por ciento (90,5%)</li>
  </ul>


  <table class="numbers-table">
    <tr><td>1000</td><td>mil</td><td><button class="audio-btn" data-audio="assets/audio/unidad5/numeros/mil.mp3">🔊</button></td></tr>
    <tr><td>1500</td><td>mil quinientos</td><td><button class="audio-btn" data-audio="assets/audio/unidad5/numeros/milqui.mp3">🔊</button></td></tr>
    <tr><td>2000</td><td>dos mil</td><td><button class="audio-btn" data-audio="assets/audio/unidad5/numeros/dosmil.mp3">🔊</button></td></tr>
    <tr><td>50550</td><td>cincuenta mil quinientos cincuenta</td><td><button class="audio-btn" data-audio="assets/audio/unidad5/numeros/cincuenta.mp3">🔊</button></td></tr>
    <tr><td>100000</td><td>cien mil</td><td><button class="audio-btn" data-audio="assets/audio/unidad5/numeros/cien.mp3">🔊</button></td></tr>
    <tr><td>800000</td><td>ochocientos mil</td><td><button class="audio-btn" data-audio="assets/audio/unidad5/numeros/ocho.mp3">🔊</button></td></tr>
    <tr><td>999999</td><td>novecientos noventa y nueve mil novecientos noventa y nueve</td><td><button class="audio-btn" data-audio="assets/audio/unidad5/numeros/novevento.mp3">🔊</button></td></tr>
    <tr><td>1000000</td><td>un millón</td><td><button class="audio-btn" data-audio="assets/audio/unidad5/numeros/unmi.mp3">🔊</button></td></tr>
    <tr><td>10000000</td><td>diez millones</td><td><button class="audio-btn" data-audio="assets/audio/unidad5/numeros/diezmi.mp3">🔊</button></td></tr>
    <tr><td>1000000000</td><td>mil millones</td><td><button class="audio-btn" data-audio="assets/audio/unidad5/numeros/milmillones.mp3">🔊</button></td></tr>
  </table>
</section>

    <hr>

<section class="exercise-section">
    <h3>3. DIFERENCIA ENTRE TÚ (INFORMAL) Y USTED (FORMAL)</h3>

    <p class="explanation">
        Usamos TÚ para amigos, familiares, personas jóvenes o de confianza.
        Usamos USTED (o **USTEDES** en plural) para expresar respeto o formalidad, como con un jefe, un profesor o una persona mayor que no conocemos.
    </p>

    <table class="numbers-table">
        <tr>
            <td style="font-weight: bold; width: 40%; background-color: #e6f0ff;">TÚ (INFORMAL)</td>
            <td style="font-weight: bold; width: 40%; background-color: #e6fff0;">USTED (FORMAL)</td>
            <td style="font-weight: bold; width: 20%; background-color: #f4f4f4;">AUDIO</td>
        </tr>
        <tr>
            <td>¿Cómo te llamas?</td>
            <td>¿Cómo se llama?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/1.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Y tu apellido?</td>
            <td>¿Y su apellido?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/2.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Cuál es tu apellido?</td>
            <td>¿Cuál es su apellido?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/3.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Cuál es tu nombre?</td>
            <td>¿Cuál es su nombre?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/4.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Cuántos años tienes?</td>
            <td>¿Cuántos años tiene?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/5.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Cuál es tu estado civil?</td>
            <td>¿Cuál es su estado civil?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/6.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Dónde trabajas?</td>
            <td>¿Dónde trabaja?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/7.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Dónde estudias?</td>
            <td>¿Dónde estudia?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/8.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Qué estudias?</td>
            <td>¿Qué estudia?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/9.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿A qué te dedicas?</td>
            <td>¿A qué se dedica?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/10.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Qué haces?</td>
            <td>¿Qué hace?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/11.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Me das tu dirección?</td>
            <td>¿Me da su dirección?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/12.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Me das tu número de teléfono?</td>
            <td>¿Me da su número de teléfono?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/13.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Me das tu correo electrónico?</td>
            <td>¿Me da su correo electrónico?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/14.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Cuál es tu número de teléfono?</td>
            <td>¿Cuál es su número de teléfono?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/15.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Cuál es tu número de celular?</td>
            <td>¿Cuál es su número de celular?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/16.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Cuál es tu dirección?</td>
            <td>¿Cuál es su dirección?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/17.mp3">🔊</button></td>
        </tr>
        <tr>
            <td>¿Dónde vives?</td>
            <td>¿Dónde vive?</td>
            <td><button class="audio-btn" data-audio="assets/audio/unidad5/tuusted/18.mp3">🔊</button></td>
        </tr>
    </table>
</section>
    
    <hr>

<section class="exercise-section">
    <h3>4. FRASES Y EXPRESIONES CLAVE</h3>

    <h4>A. Expresar acuerdo o desacuerdo</h4>
    <p>
        <button class="audio-btn" data-audio="assets/audio/unidad5/expresaracuerdo.mp3">🔊 Escuchar Diálogo</button>
    </p>
    <ul>
        <li>- Creemos que hay que pintar todo el edificio.</li>
        <li>- Sí, estamos de acuerdo con eso.</li>
        <li>- Bueno, nosotros 6 no estamos de acuerdo.</li>
    </ul>
    
    <h4>B. Preguntar por el nombre, la nacionalidad y otras informaciones</h4>
    <table class="numbers-table" style="max-width: 800px;">
        <thead>
            <tr>
                <th style="width: 50%; padding: 8px; border: 1px solid #ccc; background-color: #e6f0ff;">INFORMAL <button class="audio-btn" data-audio="assets/audio/unidad5/informal.mp3">🔊</button></th>
                <th style="width: 50%; padding: 8px; border: 1px solid #ccc; background-color: #e6fff0;">FORMAL <button class="audio-btn" data-audio="assets/audio/unidad5/formal.mp3">🔊</button></th>
            </tr>
        </thead>
        <tbody>
            <tr><td>- ¿Cómo te llamas?</td><td>- ¿Cómo se llama?</td></tr>
            <tr><td>– Me llamo Gonzalo.</td><td>– Me llamo Gonzalo.</td></tr>
            <tr><td>- ¿De dónde eres?</td><td>- ¿De dónde es?</td></tr>
            <tr><td>– Soy de Colombia.</td><td>– Soy de Colombia.</td></tr>
            <tr><td>- ¿Cuántos años tienes?</td><td>- ¿Cuántos años tiene?</td></tr>
            <tr><td>- Tengo 18 años.</td><td>- Tengo 18 años.</td></tr>
            <tr><td>- ¿A qué te dedicas?</td><td>- ¿A qué se dedica?</td></tr>
            <tr><td>- Soy arquitecto.</td><td>- Soy arquitecto.</td></tr>
            <tr><td>- ¿Con quién vives?</td><td>- ¿Con quién vive?</td></tr>
            <tr><td>- Con 2 amigos.</td><td>- Con 2 amigos.</td></tr>
        </tbody>
    </table>

    <h4>C. Proponer citas (encuentros), aceptar o no</h4>
    <p>
        <button class="audio-btn" data-audio="assets/audio/unidad5/proponercitas.mp3">🔊 Escuchar Diálogo</button>
    </p>
    <ul>
        <li>- ¿Haces algo el sábado a la noche?</li>
        <li>- No, estoy libre.</li>
        <li>- ¿Quieres ir a tomar algo?</li>
        <li>- No sé, ir al cine es mejor para mí.</li>
        <li>- Bueno, podemos ir al cine a las 20h y después a tomar algo a un bar.</li>
        <li>- Lo siento, a las 20h no puedo, es que me libero a las 21h.</li>
        <li>- Bueno, ¿y qué tal si vamos al museo a las 21h y después a tomar algo?</li>
        <li>- Dale, entonces quedamos el sábado a las 21h.</li>
    </ul>
    
    <h4>D. Usamos para aceptar y rechazar 
        <button class="audio-btn" data-audio="assets/audio/unidad5/aceptar.mp3">🔊</button>
    </h4>
    <table class="numbers-table" style="max-width: 500px;">
        <thead>
            <tr>
                <th style="width: 50%; padding: 8px; border: 1px solid #ccc; background-color: #ccffcc;">Para aceptar</th>
                <th style="width: 50%; padding: 8px; border: 1px solid #ccc; background-color: #ffcccc;">Para rechazar</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>Perfecto</td><td>Lo siento, es que…</td></tr>
            <tr><td>Muy bien</td><td>Lo siento, no puedo…</td></tr>
            <tr><td>De acuerdo</td><td></td></tr>
            <tr><td>Vale</td><td></td></tr>
            <tr><td>Dale</td><td></td></tr>
            <tr><td>Ok.</td><td></td></tr>
            <tr><td>Bueno</td><td></td></tr>
        </tbody>
    </table>

    <h4>E. Expresar hipótesis</h4>
    <p>
        <button class="audio-btn" data-audio="assets/audio/unidad5/expresarhipotesis.mp3">🔊 Escuchar Frases</button>
    </p>
    <ul style="margin-bottom: 10px;">
        <li>**Más probable**</li>
        <ul>
            <li>Seguro que voy a ganar bastante dinero.</li>
            <li>Me imagino que vas a viajar en primera.</li>
        </ul>
        <li>**Menos probable**</li>
        <ul>
            <li>A lo mejor vamos a comer pizza más tarde.</li>
            <li>Quizá me avisa antes y salimos.</li>
        </ul>
    </ul>
</section>

<hr>
    

    </div>


  <script>
    // Configuración del Reconocimiento de Voz (sin cambios, solo reubicado)
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = 'es-ES';
    recognition.interimResults = false;

    // Función que reproduce el audio de manera segura
    function playAudio(src) {
        const audio = new Audio(src);
        audio.play().catch(error => {
            console.error("❌ Error de reproducción de audio. Comprueba la ruta:", src, error);
            // Esto ayuda a diagnosticar si hay un problema con el archivo o la ruta.
            alert("No se pudo reproducir el audio. Revisa la consola del navegador (F12) o verifica la ruta.");
        });
    }

    // Listener para todos los botones de audio (Clases: .play-button y .audio-btn)
    document.querySelectorAll('.play-button, .audio-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            let audioSrc = null;

            // Opción 1: Obtener ruta desde data-audio (para los verbos)
            if (btn.dataset.audio) {
                audioSrc = btn.dataset.audio;
            } 
            
            // Opción 2: Obtener ruta desde el onclick (para los números/expresiones)
            // Necesitamos parsear el contenido de la función onclick
            else if (btn.getAttribute('onclick')) {
                // Extraer la ruta que está entre comillas simples dentro del onclick
                const onclickAttr = btn.getAttribute('onclick');
                const match = onclickAttr.match(/playAudio\(['"]([^'"]+)['"]\)/);
                if (match && match[1]) {
                    audioSrc = match[1];
                }
            }

            if (audioSrc) {
                playAudio(audioSrc);
            } else {
                console.warn("No se encontró una ruta de audio válida para este botón.");
            }
        });
        
        // **IMPORTANTE**: Quitar el atributo onclick después de configurar el listener
        // Esto evita que se ejecute dos veces y reduce conflictos.
        btn.removeAttribute('onclick'); 
    });

    // Listener para los botones de micrófono (sin cambios)
    document.querySelectorAll('.mic-button').forEach(micBtn => {
      micBtn.addEventListener('click', () => {
        const parent = micBtn.closest('li');
        // Usa data-text del botón .play-button asociado
        const playBtn = parent.querySelector('.play-button');
        const expectedText = playBtn ? playBtn.dataset.text.toLowerCase() : ""; 
        const feedback = parent.querySelector('.feedback');
        
        if (!expectedText) {
             feedback.textContent = "⚠️ Error: Falta el texto esperado (data-text) en el botón de audio.";
             feedback.className = "feedback retry";
             return;
        }
        
        feedback.textContent = "🎙️ Escuchando...";
        feedback.className = "feedback";

        recognition.start();

        recognition.onresult = (event) => {
          const said = event.results[0][0].transcript.toLowerCase();
          if (said.includes(expectedText)) {
            feedback.textContent = "✅ Bien hecho (" + said + ")";
            feedback.className = "feedback ok";
          } else {
            feedback.textContent = "🔁 Dijo: '" + said + "' — Intenta de nuevo";
            feedback.className = "feedback retry";
          }
        };

        recognition.onerror = () => {
          feedback.textContent = "⚠️ Error al usar el micrófono";
          feedback.className = "feedback retry";
        };
      });
    });
</script>

</body>
</html>
